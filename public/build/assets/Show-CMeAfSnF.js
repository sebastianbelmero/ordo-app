import{c as se,j as s,H as le,L as q}from"./app-xIZYWCDp.js";import{e as X,a as re,D as ae,b as Y,c as oe,d as ce}from"./app-layout-DLajnjpJ.js";import{B as V}from"./button-BXPk2AfM.js";import{F as ie,C as ne}from"./graduation-cap-BPGM7Ll1.js";import{P as ee}from"./plus-CZsHFr3L.js";import{A as de}from"./arrow-left-DFC2_F2f.js";import{C as te}from"./circle-check-DoUg2RGL.js";import{E as me}from"./ellipsis-DZmWO8KP.js";/* empty css            */import"./createLucideIcon-B3LiBfZd.js";import"./app-logo-icon-BTFLlc0O.js";function fe(l){const e=se.c(58),{project:t,workspaceColor:L}=l,u=t.tasks_count??t.tasks?.length??0;let M;e[0]!==t.completed_tasks_count||e[1]!==t.tasks?(M=t.completed_tasks_count??t.tasks?.filter(he).length??0,e[0]=t.completed_tasks_count,e[1]=t.tasks,e[2]=M):M=e[2];const p=M;let A;e[3]!==p||e[4]!==u?(A=u>0?Math.round(p/u*100):0,e[3]=p,e[4]=u,e[5]=A):A=e[5];const D=A;let r;e[6]!==t.name?(r=s.jsx("h3",{className:"font-semibold",children:t.name}),e[6]=t.name,e[7]=r):r=e[7];let S;e[8]!==t.status?(S=t.status&&s.jsx("span",{className:"rounded-full px-2 py-0.5 text-xs text-white",style:{backgroundColor:t.status.color},children:t.status.name}),e[8]=t.status,e[9]=S):S=e[9];let a;e[10]!==r||e[11]!==S?(a=s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center gap-2",children:[r,S]})}),e[10]=r,e[11]=S,e[12]=a):a=e[12];let E;e[13]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsx(ae,{asChild:!0,children:s.jsx(V,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 transition-opacity group-hover:opacity-100",children:s.jsx(me,{className:"h-4 w-4"})})}),e[13]=E):E=e[13];const F=`/opus/projects/${t.id}/edit`;let o;e[14]!==F?(o=s.jsx(Y,{asChild:!0,children:s.jsx(q,{href:F,children:"Edit Project"})}),e[14]=F,e[15]=o):o=e[15];let j,g;e[16]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsx(Y,{children:"Archive"}),j=s.jsx(Y,{className:"text-destructive",children:"Delete"}),e[16]=j,e[17]=g):(j=e[16],g=e[17]);let c;e[18]!==o?(c=s.jsxs(oe,{children:[E,s.jsxs(ce,{align:"end",children:[o,g,j]})]}),e[18]=o,e[19]=c):c=e[19];let i;e[20]!==c||e[21]!==a?(i=s.jsxs("div",{className:"flex items-start justify-between",children:[a,c]}),e[20]=c,e[21]=a,e[22]=i):i=e[22];let b;e[23]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsx("span",{className:"text-muted-foreground",children:"Progress"}),e[23]=b):b=e[23];let $;e[24]!==D?($=s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[b,s.jsxs("span",{className:"font-medium",children:[D,"%"]})]}),e[24]=D,e[25]=$):$=e[25];const T=`${D}%`;let n;e[26]!==T||e[27]!==L?(n=s.jsx("div",{className:"mt-2 h-2 overflow-hidden rounded-full bg-muted",children:s.jsx("div",{className:"h-full rounded-full transition-all",style:{width:T,backgroundColor:L}})}),e[26]=T,e[27]=L,e[28]=n):n=e[28];let d;e[29]!==$||e[30]!==n?(d=s.jsxs("div",{className:"mt-4",children:[$,n]}),e[29]=$,e[30]=n,e[31]=d):d=e[31];let B;e[32]===Symbol.for("react.memo_cache_sentinel")?(B=s.jsx(X,{className:"h-4 w-4"}),e[32]=B):B=e[32];let m;e[33]!==u?(m=s.jsxs("div",{className:"flex items-center gap-1",children:[B,s.jsxs("span",{children:[u," tasks"]})]}),e[33]=u,e[34]=m):m=e[34];let N;e[35]===Symbol.for("react.memo_cache_sentinel")?(N=s.jsx(te,{className:"h-4 w-4 text-green-500"}),e[35]=N):N=e[35];let f;e[36]!==p?(f=s.jsxs("div",{className:"flex items-center gap-1",children:[N,s.jsxs("span",{children:[p," done"]})]}),e[36]=p,e[37]=f):f=e[37];let x;e[38]!==m||e[39]!==f?(x=s.jsxs("div",{className:"mt-4 flex items-center gap-4 text-sm text-muted-foreground",children:[m,f]}),e[38]=m,e[39]=f,e[40]=x):x=e[40];let _;e[41]!==t.tasks?(_=t.tasks&&t.tasks.length>0&&s.jsxs("div",{className:"mt-4 space-y-2",children:[t.tasks.slice(0,3).map(xe),t.tasks.length>3&&s.jsxs("p",{className:"text-center text-xs text-muted-foreground",children:["+",t.tasks.length-3," more tasks"]})]}),e[41]=t.tasks,e[42]=_):_=e[42];const P=`/opus/projects/${t.id}`;let y;e[43]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx(V,{variant:"outline",className:"w-full",children:"View Details"}),e[43]=y):y=e[43];let w;e[44]!==P?(w=s.jsx(q,{href:P,className:"flex-1",children:y}),e[44]=P,e[45]=w):w=e[45];const z=`/opus/projects/${t.id}/board`;let v;e[46]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsxs(V,{variant:"default",children:[s.jsx(X,{className:"mr-2 h-4 w-4"}),"Board"]}),e[46]=v):v=e[46];let h;e[47]!==z?(h=s.jsx(q,{href:z,children:v}),e[47]=z,e[48]=h):h=e[48];let k;e[49]!==w||e[50]!==h?(k=s.jsxs("div",{className:"mt-4 flex gap-2",children:[w,h]}),e[49]=w,e[50]=h,e[51]=k):k=e[51];let C;return e[52]!==i||e[53]!==d||e[54]!==x||e[55]!==_||e[56]!==k?(C=s.jsxs("div",{className:"group rounded-xl border border-sidebar-border/70 bg-card p-5 transition-all hover:border-primary/50 hover:shadow-md dark:border-sidebar-border",children:[i,d,x,_,k]}),e[52]=i,e[53]=d,e[54]=x,e[55]=_,e[56]=k,e[57]=C):C=e[57],C}function xe(l){return s.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-muted/50 px-3 py-2 text-sm",children:[s.jsx("div",{className:"h-2 w-2 rounded-full",style:{backgroundColor:l.status?.color??"#64748b"}}),s.jsx("span",{className:"flex-1 truncate",children:l.title}),l.priority&&s.jsx("span",{className:"rounded px-1.5 py-0.5 text-xs",style:{backgroundColor:`${l.priority.color}20`,color:l.priority.color},children:l.priority.name})]},l.id)}function he(l){return l.status?.is_completed}function De(l){const e=se.c(79),{workspace:t}=l;let L,u;e[0]===Symbol.for("react.memo_cache_sentinel")?(L={title:"Opus",href:"/opus/workspaces"},u={title:"Workspaces",href:"/opus/workspaces"},e[0]=L,e[1]=u):(L=e[0],u=e[1]);const M=`/opus/workspaces/${t.id}`;let p;e[2]!==M||e[3]!==t.name?(p=[L,u,{title:t.name,href:M}],e[2]=M,e[3]=t.name,e[4]=p):p=e[4];const A=p;let D;e[5]!==t.projects?(D=t.projects??[],e[5]=t.projects,e[6]=D):D=e[6];const r=D,S=`${t.name} - Opus`;let a;e[7]!==S?(a=s.jsx(le,{title:S}),e[7]=S,e[8]=a):a=e[8];let E;e[9]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsx(q,{href:"/opus/workspaces",children:s.jsx(V,{variant:"ghost",size:"icon",children:s.jsx(de,{className:"h-5 w-5"})})}),e[9]=E):E=e[9];const F=`${t.color}20`;let o;e[10]!==F?(o={backgroundColor:F},e[10]=F,e[11]=o):o=e[11];let j;e[12]!==t.color?(j=s.jsx(ie,{className:"h-6 w-6",style:{color:t.color}}),e[12]=t.color,e[13]=j):j=e[13];let g;e[14]!==o||e[15]!==j?(g=s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl",style:o,children:j}),e[14]=o,e[15]=j,e[16]=g):g=e[16];let c;e[17]!==t.name?(c=s.jsx("h1",{className:"text-2xl font-bold",children:t.name}),e[17]=t.name,e[18]=c):c=e[18];let i;e[19]!==t.slug?(i=s.jsxs("p",{className:"text-muted-foreground",children:["/",t.slug]}),e[19]=t.slug,e[20]=i):i=e[20];let b;e[21]!==c||e[22]!==i?(b=s.jsxs("div",{className:"flex-1",children:[c,i]}),e[21]=c,e[22]=i,e[23]=b):b=e[23];const $=`/opus/workspaces/${t.id}/projects/create`;let T;e[24]===Symbol.for("react.memo_cache_sentinel")?(T=s.jsx(ee,{className:"mr-2 h-4 w-4"}),e[24]=T):T=e[24];let n;e[25]!==$?(n=s.jsx(V,{asChild:!0,children:s.jsxs(q,{href:$,children:[T,"New Project"]})}),e[25]=$,e[26]=n):n=e[26];let d;e[27]!==g||e[28]!==b||e[29]!==n?(d=s.jsxs("div",{className:"flex items-center gap-4",children:[E,g,b,n]}),e[27]=g,e[28]=b,e[29]=n,e[30]=d):d=e[30];const B=`${t.color}20`;let m;e[31]!==B?(m={backgroundColor:B},e[31]=B,e[32]=m):m=e[32];let N;e[33]!==t.color?(N=s.jsx(X,{className:"h-5 w-5",style:{color:t.color}}),e[33]=t.color,e[34]=N):N=e[34];let f;e[35]!==m||e[36]!==N?(f=s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg",style:m,children:N}),e[35]=m,e[36]=N,e[37]=f):f=e[37];let x;e[38]!==r.length?(x=s.jsx("p",{className:"text-2xl font-bold",children:r.length}),e[38]=r.length,e[39]=x):x=e[39];let _;e[40]===Symbol.for("react.memo_cache_sentinel")?(_=s.jsx("p",{className:"text-sm text-muted-foreground",children:"Projects"}),e[40]=_):_=e[40];let P;e[41]!==x?(P=s.jsxs("div",{children:[x,_]}),e[41]=x,e[42]=P):P=e[42];let y;e[43]!==f||e[44]!==P?(y=s.jsxs("div",{className:"flex items-center gap-3",children:[f,P]}),e[43]=f,e[44]=P,e[45]=y):y=e[45];let w;e[46]===Symbol.for("react.memo_cache_sentinel")?(w=s.jsx("div",{className:"h-14 w-px bg-border"}),e[46]=w):w=e[46];let z;e[47]===Symbol.for("react.memo_cache_sentinel")?(z=s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-green-100 dark:bg-green-900/30",children:s.jsx(te,{className:"h-5 w-5 text-green-600"})}),e[47]=z):z=e[47];let v;e[48]!==r?(v=r.reduce(je,0),e[48]=r,e[49]=v):v=e[49];let h;e[50]!==v?(h=s.jsx("p",{className:"text-2xl font-bold",children:v}),e[50]=v,e[51]=h):h=e[51];let k;e[52]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed Tasks"}),e[52]=k):k=e[52];let C;e[53]!==h?(C=s.jsxs("div",{className:"flex items-center gap-3",children:[z,s.jsxs("div",{children:[h,k]})]}),e[53]=h,e[54]=C):C=e[54];let G;e[55]===Symbol.for("react.memo_cache_sentinel")?(G=s.jsx("div",{className:"h-14 w-px bg-border"}),e[55]=G):G=e[55];let J;e[56]===Symbol.for("react.memo_cache_sentinel")?(J=s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-amber-100 dark:bg-amber-900/30",children:s.jsx(ne,{className:"h-5 w-5 text-amber-600"})}),e[56]=J):J=e[56];let H;e[57]!==r?(H=r.reduce(ue,0),e[57]=r,e[58]=H):H=e[58];let O;e[59]!==H?(O=s.jsx("p",{className:"text-2xl font-bold",children:H}),e[59]=H,e[60]=O):O=e[60];let Q;e[61]===Symbol.for("react.memo_cache_sentinel")?(Q=s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Tasks"}),e[61]=Q):Q=e[61];let R;e[62]!==O?(R=s.jsxs("div",{className:"flex items-center gap-3",children:[J,s.jsxs("div",{children:[O,Q]})]}),e[62]=O,e[63]=R):R=e[63];let W;e[64]!==y||e[65]!==C||e[66]!==R?(W=s.jsxs("div",{className:"flex gap-4 rounded-xl border border-sidebar-border/70 bg-card p-4 dark:border-sidebar-border",children:[y,w,C,G,R]}),e[64]=y,e[65]=C,e[66]=R,e[67]=W):W=e[67];let I;e[68]!==r||e[69]!==t.color?(I=r.length>0?s.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:r.map(Z=>s.jsx(fe,{project:Z,workspaceColor:t.color},Z.id))}):s.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center rounded-xl border border-dashed border-sidebar-border/70 py-16 dark:border-sidebar-border",children:[s.jsx(X,{className:"h-12 w-12 text-muted-foreground/50"}),s.jsx("h3",{className:"mt-4 text-lg font-medium",children:"No projects yet"}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Create your first project in this workspace."}),s.jsxs(V,{className:"mt-4",children:[s.jsx(ee,{className:"mr-2 h-4 w-4"}),"Create Project"]})]}),e[68]=r,e[69]=t.color,e[70]=I):I=e[70];let K;e[71]!==d||e[72]!==W||e[73]!==I?(K=s.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 overflow-x-auto p-4",children:[d,W,I]}),e[71]=d,e[72]=W,e[73]=I,e[74]=K):K=e[74];let U;return e[75]!==A||e[76]!==K||e[77]!==a?(U=s.jsxs(re,{breadcrumbs:A,children:[a,K]}),e[75]=A,e[76]=K,e[77]=a,e[78]=U):U=e[78],U}function ue(l,e){return l+(e.tasks?.filter(pe).length??0)}function pe(l){return!l.status?.is_completed}function je(l,e){return l+(e.tasks?.filter(ge).length??0)}function ge(l){return l.status?.is_completed}export{De as default};
