import{c as R,r as M,j as s,L as F,H as U}from"./app-BCcZMIq_.js";import{a as z,C as D}from"./app-layout-Cgg_NPO5.js";import{B as J}from"./button-B7Wlbqhy.js";import{P as E}from"./plus-BkWeTF2j.js";import{B as L}from"./graduation-cap-CPVx1Rv5.js";import{F as H}from"./funnel-Db7nNEZB.js";import{M as T}from"./map-pin-Dd-4NatQ.js";import{D as V}from"./dollar-sign-fdi_1nTM.js";import{S as I}from"./star-SCjq9emg.js";import{B as K}from"./building-2-BOuPKTKb.js";/* empty css            */import"./app-logo-icon-BzZkLVMi.js";function O(r,e){if(!r&&!e)return"-";const t=l=>l>=1e6?`${(l/1e6).toFixed(1)}M`:l>=1e3?`${(l/1e3).toFixed(0)}K`:l.toString();return r&&e?`${t(r)} - ${t(e)}`:r?`${t(r)}+`:`Up to ${t(e)}`}function q(r){const e=R.c(3),{level:t}=r;let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=[1,2,3,4,5],e[0]=l):l=e[0];let a;return e[1]!==t?(a=s.jsx("div",{className:"flex",children:l.map(x=>s.jsx(I,{className:`h-3 w-3 ${x<=t?"fill-amber-400 text-amber-400":"text-muted-foreground/30"}`},x))}),e[1]=t,e[2]=a):a=e[2],a}function G(r){const e=R.c(41),{job:t}=r,l=`/vocatio/jobs/${t.id}`;let a;e[0]!==t.company?(a=t.company.substring(0,2).toUpperCase(),e[0]=t.company,e[1]=a):a=e[1];let x;e[2]!==a?(x=s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-slate-100 font-semibold text-slate-600 dark:bg-slate-800",children:a}),e[2]=a,e[3]=x):x=e[3];let u;e[4]!==t.position?(u=s.jsx("h3",{className:"font-semibold truncate",children:t.position}),e[4]=t.position,e[5]=u):u=e[5];let N;e[6]!==t.status?(N=t.status&&s.jsx("span",{className:"rounded-full px-2 py-0.5 text-xs text-white flex-shrink-0",style:{backgroundColor:t.status.color},children:t.status.name}),e[6]=t.status,e[7]=N):N=e[7];let c;e[8]!==u||e[9]!==N?(c=s.jsxs("div",{className:"flex items-center gap-2",children:[u,N]}),e[8]=u,e[9]=N,e[10]=c):c=e[10];let h;e[11]===Symbol.for("react.memo_cache_sentinel")?(h=s.jsx(K,{className:"h-3 w-3"}),e[11]=h):h=e[11];let i;e[12]!==t.company?(i=s.jsxs("span",{className:"flex items-center gap-1",children:[h,t.company]}),e[12]=t.company,e[13]=i):i=e[13];let o;e[14]!==t.location?(o=t.location&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(T,{className:"h-3 w-3"}),t.location]}),e[14]=t.location,e[15]=o):o=e[15];let d;e[16]!==t.pipeline?(d=t.pipeline&&s.jsx("span",{className:"rounded bg-muted px-2 py-0.5 text-xs",children:t.pipeline.name}),e[16]=t.pipeline,e[17]=d):d=e[17];let m;e[18]!==d||e[19]!==i||e[20]!==o?(m=s.jsxs("div",{className:"mt-1 flex items-center gap-4 text-sm text-muted-foreground",children:[i,o,d]}),e[18]=d,e[19]=i,e[20]=o,e[21]=m):m=e[21];let n;e[22]!==m||e[23]!==c?(n=s.jsxs("div",{className:"flex-1 min-w-0",children:[c,m]}),e[22]=m,e[23]=c,e[24]=n):n=e[24];let f;e[25]!==t.level_of_interest?(f=s.jsx(q,{level:t.level_of_interest}),e[25]=t.level_of_interest,e[26]=f):f=e[26];let p;e[27]!==t.salary_max||e[28]!==t.salary_min?(p=(t.salary_min||t.salary_max)&&s.jsxs("span",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[s.jsx(V,{className:"h-3 w-3"}),O(t.salary_min,t.salary_max)]}),e[27]=t.salary_max,e[28]=t.salary_min,e[29]=p):p=e[29];let b;e[30]!==f||e[31]!==p?(b=s.jsxs("div",{className:"hidden sm:flex items-center gap-4",children:[f,p]}),e[30]=f,e[31]=p,e[32]=b):b=e[32];let y;e[33]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx(D,{className:"h-5 w-5 text-muted-foreground transition-transform group-hover:translate-x-1"}),e[33]=y):y=e[33];let j;e[34]!==n||e[35]!==b||e[36]!==x?(j=s.jsxs("div",{className:"group flex items-center gap-4 rounded-xl border border-sidebar-border/70 bg-card p-4 transition-all hover:border-primary/50 hover:shadow-sm dark:border-sidebar-border",children:[x,n,b,y]}),e[34]=n,e[35]=b,e[36]=x,e[37]=j):j=e[37];let g;return e[38]!==l||e[39]!==j?(g=s.jsx(F,{href:l,children:j}),e[38]=l,e[39]=j,e[40]=g):g=e[40],g}function de(r){const e=R.c(45),{jobs:t,pipelines:l}=r,[a,x]=M.useState(null);let u;e[0]===Symbol.for("react.memo_cache_sentinel")?(u=[{title:"Vocatio",href:"/vocatio/pipelines"},{title:"All Jobs",href:"/vocatio/jobs"}],e[0]=u):u=e[0];const N=u;let c,h,i,o,d,m,n;if(e[1]!==t.data||e[2]!==l.data||e[3]!==a){const b=a?t.data.filter($=>$.pipeline_id===a):t.data,y=b.reduce(X,{});c=z,m=N,e[11]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx(U,{title:"All Jobs - Vocatio"}),e[11]=n):n=e[11],h="flex h-full flex-1 flex-col gap-6 overflow-x-auto p-4";let j,g;e[12]===Symbol.for("react.memo_cache_sentinel")?(j=s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-emerald-100 dark:bg-emerald-900/30",children:s.jsx(L,{className:"h-6 w-6 text-emerald-600"})}),g=s.jsx("h1",{className:"text-2xl font-bold",children:"All Jobs"}),e[12]=j,e[13]=g):(j=e[12],g=e[13]);const B=s.jsxs("div",{children:[g,s.jsxs("p",{className:"text-muted-foreground",children:[b.length," jobs across ",l.data.length," pipelines"]})]});let v;e[14]!==B?(v=s.jsxs("div",{className:"flex items-center gap-4",children:[j,B]}),e[14]=B,e[15]=v):v=e[15];let _;e[16]!==l.data[0]||e[17]!==l.data.length||e[18]!==a?(_=l.data.length>0&&s.jsx(J,{asChild:!0,children:s.jsxs(F,{href:`/vocatio/pipelines/${a??l.data[0].id}/jobs/create`,children:[s.jsx(E,{className:"mr-2 h-4 w-4"}),"Add Job"]})}),e[16]=l.data[0],e[17]=l.data.length,e[18]=a,e[19]=_):_=e[19],e[20]!==v||e[21]!==_?(i=s.jsxs("div",{className:"flex items-center justify-between",children:[v,_]}),e[20]=v,e[21]=_,e[22]=i):i=e[22];let k;e[23]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx(H,{className:"h-4 w-4 text-muted-foreground"}),e[23]=k):k=e[23];const P=a===null?"secondary":"ghost";let A;e[24]===Symbol.for("react.memo_cache_sentinel")?(A=()=>x(null),e[24]=A):A=e[24];let w;e[25]!==P?(w=s.jsx(J,{variant:P,size:"sm",onClick:A,children:"All"}),e[25]=P,e[26]=w):w=e[26];let S;if(e[27]!==l.data||e[28]!==a){let $;e[30]!==a?($=C=>s.jsx(J,{variant:a===C.id?"secondary":"ghost",size:"sm",onClick:()=>x(C.id),children:C.name},C.id),e[30]=a,e[31]=$):$=e[31],S=l.data.map($),e[27]=l.data,e[28]=a,e[29]=S}else S=e[29];e[32]!==w||e[33]!==S?(o=s.jsxs("div",{className:"flex items-center gap-2",children:[k,w,S]}),e[32]=w,e[33]=S,e[34]=o):o=e[34],d=b.length>0?s.jsx("div",{className:"space-y-6",children:Object.entries(y).map(Q)}):s.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center rounded-xl border border-dashed py-16",children:[s.jsx(L,{className:"h-12 w-12 text-muted-foreground/50"}),s.jsx("h3",{className:"mt-4 text-lg font-medium",children:"No jobs found"}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:a?"Try selecting a different pipeline.":"Add your first job to get started."}),l.data.length>0&&s.jsx(J,{className:"mt-4",asChild:!0,children:s.jsxs(F,{href:`/vocatio/pipelines/${a??l.data[0].id}/jobs/create`,children:[s.jsx(E,{className:"mr-2 h-4 w-4"}),"Add Job"]})})]}),e[1]=t.data,e[2]=l.data,e[3]=a,e[4]=c,e[5]=h,e[6]=i,e[7]=o,e[8]=d,e[9]=m,e[10]=n}else c=e[4],h=e[5],i=e[6],o=e[7],d=e[8],m=e[9],n=e[10];let f;e[35]!==h||e[36]!==i||e[37]!==o||e[38]!==d?(f=s.jsxs("div",{className:h,children:[i,o,d]}),e[35]=h,e[36]=i,e[37]=o,e[38]=d,e[39]=f):f=e[39];let p;return e[40]!==c||e[41]!==m||e[42]!==n||e[43]!==f?(p=s.jsxs(c,{breadcrumbs:m,children:[n,f]}),e[40]=c,e[41]=m,e[42]=n,e[43]=f,e[44]=p):p=e[44],p}function Q(r){const[e,t]=r,{color:l,jobs:a}=t;return s.jsxs("div",{children:[s.jsxs("h2",{className:"mb-3 flex items-center gap-2 font-semibold",children:[s.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:l}}),e,s.jsxs("span",{className:"text-muted-foreground",children:["(",a.length,")"]})]}),s.jsx("div",{className:"space-y-2",children:a.map(W)})]},e)}function W(r){return s.jsx(G,{job:r},r.id)}function X(r,e){const t=e.status?.name??"Unknown";return r[t]||(r[t]={color:e.status?.color??"#64748b",jobs:[]}),r[t].jobs.push(e),r}export{de as default};
