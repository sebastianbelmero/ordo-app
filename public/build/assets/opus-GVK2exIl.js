import{c as le,r as Y,j as s,H as ae,u as ie,a as re}from"./app-C6vUMXGR.js";import{H as oe,S as ne}from"./layout-lMWjcQ8P.js";import{B as Q}from"./button-CbSMJA6N.js";import{I as Z}from"./input-CGnJOQiu.js";import{L as X}from"./label-DPuS-Zvn.js";import{S as ce}from"./switch-rlZuhopr.js";import{c as me,d as de,b as ue,e as fe,a as he,D as pe}from"./dialog-DTAUg_MX.js";import{A as xe,h as ge,a as je,b as ye,c as ve,d as be,e as _e,f as Se,g as Ne}from"./alert-dialog-Cqx2r6ue.js";import{a as ke}from"./app-layout-C1rFmZUK.js";import{P as ee}from"./plus-Ccy1II-v.js";import{S as Ce}from"./square-pen-CgyaWGRh.js";import{T as De}from"./trash-2-j8yhMGZg.js";import{G as we}from"./grip-vertical-BuE70iy_.js";/* empty css            */import"./app-logo-icon-B8A7z8aW.js";import"./index-DSCJDbGz.js";import"./index-DFXG9kFy.js";import"./graduation-cap-DOye_TA7.js";const Ae=["#64748b","#ef4444","#f97316","#eab308","#22c55e","#14b8a6","#3b82f6","#6366f1","#8b5cf6","#ec4899"],Te=[{title:"Opus Settings",href:"/settings/opus"}];function se(B){const e=le.c(21),{item:a,onEdit:S,onDelete:t}=B;let m;e[0]===Symbol.for("react.memo_cache_sentinel")?(m=s.jsx("div",{className:"cursor-grab text-muted-foreground hover:text-foreground",children:s.jsx(we,{className:"h-4 w-4"})}),e[0]=m):m=e[0];let n;e[1]!==a.color?(n=s.jsx("div",{className:"h-4 w-4 rounded-full",style:{backgroundColor:a.color}}),e[1]=a.color,e[2]=n):n=e[2];let d;e[3]!==a.name?(d=s.jsx("span",{className:"font-medium",children:a.name}),e[3]=a.name,e[4]=d):d=e[4];let x;e[5]!==a.is_system?(x=a.is_system&&s.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:"(System)"}),e[5]=a.is_system,e[6]=x):x=e[6];let h;e[7]!==a.is_completed?(h=a.is_completed&&s.jsx("span",{className:"ml-2 rounded-full bg-green-100 px-2 py-0.5 text-xs text-green-700 dark:bg-green-900/30 dark:text-green-400",children:"Completed"}),e[7]=a.is_completed,e[8]=h):h=e[8];let u;e[9]!==d||e[10]!==x||e[11]!==h?(u=s.jsxs("div",{className:"flex-1",children:[d,x,h]}),e[9]=d,e[10]=x,e[11]=h,e[12]=u):u=e[12];let r;e[13]!==a||e[14]!==t||e[15]!==S?(r=!a.is_system&&s.jsxs("div",{className:"flex gap-1",children:[s.jsx(Q,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>S(a),children:s.jsx(Ce,{className:"h-4 w-4"})}),s.jsxs(xe,{children:[s.jsx(ge,{asChild:!0,children:s.jsx(Q,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",children:s.jsx(De,{className:"h-4 w-4"})})}),s.jsxs(je,{children:[s.jsxs(ye,{children:[s.jsxs(ve,{children:["Delete ",a.name,"?"]}),s.jsx(be,{children:"This action cannot be undone. Items using this status will have their status set to null."})]}),s.jsxs(_e,{children:[s.jsx(Se,{children:"Cancel"}),s.jsx(Ne,{onClick:()=>t(a.id),children:"Delete"})]})]})]})]}),e[13]=a,e[14]=t,e[15]=S,e[16]=r):r=e[16];let p;return e[17]!==n||e[18]!==u||e[19]!==r?(p=s.jsxs("div",{className:"flex items-center gap-3 rounded-lg border bg-card p-3",children:[m,n,u,r]}),e[17]=n,e[18]=u,e[19]=r,e[20]=p):p=e[20],p}function te(B){const e=le.c(83),{type:a,title:S,item:t,open:m,onOpenChange:n,showCompleted:d,showLevel:x}=B,h=d===void 0?!1:d,u=x===void 0?!1:x,r=!!t;let p;e[0]===Symbol.for("react.memo_cache_sentinel")?(p={name:"",slug:"",color:"#64748b",order:0,is_completed:!1,level:0},e[0]=p):p=e[0];const{data:c,setData:o,post:R,put:V,processing:U,reset:G,errors:g}=ie(p);let K;e[1]!==t?.color||e[2]!==t?.is_completed||e[3]!==t?.level||e[4]!==t?.name||e[5]!==t?.order||e[6]!==t?.slug||e[7]!==m||e[8]!==o?(K=()=>{m&&o({name:t?.name||"",slug:t?.slug||"",color:t?.color||"#64748b",order:t?.order||0,is_completed:t?.is_completed||!1,level:t?.level||0})},e[1]=t?.color,e[2]=t?.is_completed,e[3]=t?.level,e[4]=t?.name,e[5]=t?.order,e[6]=t?.slug,e[7]=m,e[8]=o,e[9]=K):K=e[9];let M;e[10]!==t||e[11]!==m?(M=[m,t],e[10]=t,e[11]=m,e[12]=M):M=e[12],Y.useEffect(K,M);let N;e[13]!==r||e[14]!==t||e[15]!==n||e[16]!==R||e[17]!==V||e[18]!==G||e[19]!==a?(N=i=>{i.preventDefault(),r?V(`/settings/opus/${a}/${t.id}`,{preserveScroll:!0,onSuccess:()=>{G(),n(!1)}}):R(`/settings/opus/${a}`,{preserveScroll:!0,onSuccess:()=>{G(),n(!1)}})},e[13]=r,e[14]=t,e[15]=n,e[16]=R,e[17]=V,e[18]=G,e[19]=a,e[20]=N):N=e[20];const O=N,W=Ee,q=r?"Edit":"Add";let j;e[21]!==q||e[22]!==S?(j=s.jsxs(me,{children:[q," ",S]}),e[21]=q,e[22]=S,e[23]=j):j=e[23];const L=r?"Update the status details below.":"Create a new status for your workflow.";let k;e[24]!==L?(k=s.jsx(de,{children:L}),e[24]=L,e[25]=k):k=e[25];let C;e[26]!==k||e[27]!==j?(C=s.jsxs(ue,{children:[j,k]}),e[26]=k,e[27]=j,e[28]=C):C=e[28];let D;e[29]===Symbol.for("react.memo_cache_sentinel")?(D=s.jsx(X,{children:"Name"}),e[29]=D):D=e[29];let y;e[30]!==r||e[31]!==o?(y=i=>{o("name",i.target.value),r||o("slug",W(i.target.value))},e[30]=r,e[31]=o,e[32]=y):y=e[32];let v;e[33]!==c.name||e[34]!==y?(v=s.jsx(Z,{value:c.name,onChange:y,placeholder:"Status name"}),e[33]=c.name,e[34]=y,e[35]=v):v=e[35];let H;e[36]!==g.name?(H=g.name&&s.jsx("p",{className:"text-sm text-destructive",children:g.name}),e[36]=g.name,e[37]=H):H=e[37];let I;e[38]!==v||e[39]!==H?(I=s.jsxs("div",{className:"space-y-2",children:[D,v,H]}),e[38]=v,e[39]=H,e[40]=I):I=e[40];let w;e[41]!==c.slug||e[42]!==g.slug||e[43]!==r||e[44]!==o?(w=!r&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:"Slug"}),s.jsx(Z,{value:c.slug,onChange:i=>o("slug",i.target.value),placeholder:"status_slug"}),g.slug&&s.jsx("p",{className:"text-sm text-destructive",children:g.slug})]}),e[41]=c.slug,e[42]=g.slug,e[43]=r,e[44]=o,e[45]=w):w=e[45];let A;e[46]===Symbol.for("react.memo_cache_sentinel")?(A=s.jsx(X,{children:"Color"}),e[46]=A):A=e[46];let $;e[47]!==c.color||e[48]!==o?($=Ae.map(i=>s.jsx("button",{type:"button",className:`h-8 w-8 rounded-full border-2 transition-all ${c.color===i?"border-foreground scale-110":"border-transparent"}`,style:{backgroundColor:i},onClick:()=>o("color",i)},i)),e[47]=c.color,e[48]=o,e[49]=$):$=e[49];let z;e[50]!==$?(z=s.jsxs("div",{className:"space-y-2",children:[A,s.jsx("div",{className:"flex flex-wrap gap-2",children:$})]}),e[50]=$,e[51]=z):z=e[51];let T;e[52]!==c.is_completed||e[53]!==o||e[54]!==h?(T=h&&s.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[s.jsxs("div",{children:[s.jsx(X,{children:"Mark as Completed"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Tasks with this status are considered done"})]}),s.jsx(ce,{checked:c.is_completed,onCheckedChange:i=>o("is_completed",i)})]}),e[52]=c.is_completed,e[53]=o,e[54]=h,e[55]=T):T=e[55];let b;e[56]!==c.level||e[57]!==o||e[58]!==u?(b=u&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:"Priority Level (0-10)"}),s.jsx(Z,{type:"number",min:0,max:10,value:c.level,onChange:i=>o("level",parseInt(i.target.value)||0)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Higher level = higher priority"})]}),e[56]=c.level,e[57]=o,e[58]=u,e[59]=b):b=e[59];let F;e[60]!==n?(F=s.jsx(Q,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancel"}),e[60]=n,e[61]=F):F=e[61];const J=r?"Save Changes":"Create";let E;e[62]!==U||e[63]!==J?(E=s.jsx(Q,{type:"submit",disabled:U,children:J}),e[62]=U,e[63]=J,e[64]=E):E=e[64];let _;e[65]!==F||e[66]!==E?(_=s.jsxs(fe,{children:[F,E]}),e[65]=F,e[66]=E,e[67]=_):_=e[67];let P;e[68]!==O||e[69]!==I||e[70]!==w||e[71]!==z||e[72]!==T||e[73]!==b||e[74]!==_?(P=s.jsxs("form",{onSubmit:O,className:"space-y-4",children:[I,w,z,T,b,_]}),e[68]=O,e[69]=I,e[70]=w,e[71]=z,e[72]=T,e[73]=b,e[74]=_,e[75]=P):P=e[75];let l;e[76]!==C||e[77]!==P?(l=s.jsxs(he,{children:[C,P]}),e[76]=C,e[77]=P,e[78]=l):l=e[78];let f;return e[79]!==n||e[80]!==m||e[81]!==l?(f=s.jsx(pe,{open:m,onOpenChange:n,children:l}),e[79]=n,e[80]=m,e[81]=l,e[82]=f):f=e[82],f}function Ee(B){return B.toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"")}function Xe(B){const e=le.c(48),{projectStatuses:a,taskStatuses:S,taskPriorities:t}=B,[m,n]=Y.useState(null),[d,x]=Y.useState(null),[,h]=Y.useState(!1);let u;e[0]===Symbol.for("react.memo_cache_sentinel")?(u=(l,f)=>{x(l),n(f),h(!1)},e[0]=u):u=e[0];const r=u;let p;e[1]===Symbol.for("react.memo_cache_sentinel")?(p=l=>{x(l),n(null),h(!0)},e[1]=p):p=e[1];const c=p,o=Pe;let R;e[2]===Symbol.for("react.memo_cache_sentinel")?(R=()=>{x(null),n(null),h(!1)},e[2]=R):R=e[2];const V=R;let U,G;e[3]===Symbol.for("react.memo_cache_sentinel")?(U=s.jsx(ae,{title:"Opus Settings"}),G=s.jsx("h1",{className:"sr-only",children:"Opus Settings"}),e[3]=U,e[4]=G):(U=e[3],G=e[4]);let g;e[5]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsx(oe,{variant:"small",title:"Opus Settings",description:"Kelola status dan prioritas untuk proyek dan tugas Anda"}),e[5]=g):g=e[5];let K;e[6]===Symbol.for("react.memo_cache_sentinel")?(K=s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Project Statuses"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Status untuk proyek (Active, On Hold, Archived, dll)"})]}),e[6]=K):K=e[6];let M;e[7]===Symbol.for("react.memo_cache_sentinel")?(M=s.jsxs("div",{className:"flex items-center justify-between",children:[K,s.jsxs(Q,{size:"sm",onClick:()=>c("project-statuses"),children:[s.jsx(ee,{className:"mr-2 h-4 w-4"}),"Add Status"]})]}),e[7]=M):M=e[7];let N;if(e[8]!==a){let l;e[10]===Symbol.for("react.memo_cache_sentinel")?(l=f=>s.jsx(se,{item:f,type:"project-statuses",onEdit:i=>r("project-statuses",i),onDelete:i=>o("project-statuses",i)},f.id),e[10]=l):l=e[10],N=a.map(l),e[8]=a,e[9]=N}else N=e[9];let O;e[11]!==N?(O=s.jsxs("div",{className:"space-y-4",children:[M,s.jsx("div",{className:"space-y-2",children:N})]}),e[11]=N,e[12]=O):O=e[12];let W;e[13]===Symbol.for("react.memo_cache_sentinel")?(W=s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Task Statuses"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Status untuk tugas di Kanban board (To Do, In Progress, Done, dll)"})]}),e[13]=W):W=e[13];let q;e[14]===Symbol.for("react.memo_cache_sentinel")?(q=s.jsxs("div",{className:"flex items-center justify-between",children:[W,s.jsxs(Q,{size:"sm",onClick:()=>c("task-statuses"),children:[s.jsx(ee,{className:"mr-2 h-4 w-4"}),"Add Status"]})]}),e[14]=q):q=e[14];let j;if(e[15]!==S){let l;e[17]===Symbol.for("react.memo_cache_sentinel")?(l=f=>s.jsx(se,{item:f,type:"task-statuses",onEdit:i=>r("task-statuses",i),onDelete:i=>o("task-statuses",i)},f.id),e[17]=l):l=e[17],j=S.map(l),e[15]=S,e[16]=j}else j=e[16];let L;e[18]!==j?(L=s.jsxs("div",{className:"space-y-4",children:[q,s.jsx("div",{className:"space-y-2",children:j})]}),e[18]=j,e[19]=L):L=e[19];let k;e[20]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Task Priorities"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Prioritas tugas (Low, Medium, High, Urgent, dll)"})]}),e[20]=k):k=e[20];let C;e[21]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsxs("div",{className:"flex items-center justify-between",children:[k,s.jsxs(Q,{size:"sm",onClick:()=>c("task-priorities"),children:[s.jsx(ee,{className:"mr-2 h-4 w-4"}),"Add Priority"]})]}),e[21]=C):C=e[21];let D;if(e[22]!==t){let l;e[24]===Symbol.for("react.memo_cache_sentinel")?(l=f=>s.jsx(se,{item:f,type:"task-priorities",onEdit:i=>r("task-priorities",i),onDelete:i=>o("task-priorities",i)},f.id),e[24]=l):l=e[24],D=t.map(l),e[22]=t,e[23]=D}else D=e[23];let y;e[25]!==D?(y=s.jsxs("div",{className:"space-y-4",children:[C,s.jsx("div",{className:"space-y-2",children:D})]}),e[25]=D,e[26]=y):y=e[26];let v;e[27]!==O||e[28]!==L||e[29]!==y?(v=s.jsx(ne,{children:s.jsxs("div",{className:"space-y-8",children:[g,O,L,y]})}),e[27]=O,e[28]=L,e[29]=y,e[30]=v):v=e[30];const H=d==="project-statuses"?m:null,I=d==="project-statuses";let w;e[31]===Symbol.for("react.memo_cache_sentinel")?(w=l=>!l&&V(),e[31]=w):w=e[31];let A;e[32]!==H||e[33]!==I?(A=s.jsx(te,{type:"project-statuses",title:"Project Status",item:H,open:I,onOpenChange:w}),e[32]=H,e[33]=I,e[34]=A):A=e[34];const $=d==="task-statuses"?m:null,z=d==="task-statuses";let T;e[35]===Symbol.for("react.memo_cache_sentinel")?(T=l=>!l&&V(),e[35]=T):T=e[35];let b;e[36]!==$||e[37]!==z?(b=s.jsx(te,{type:"task-statuses",title:"Task Status",item:$,open:z,onOpenChange:T,showCompleted:!0}),e[36]=$,e[37]=z,e[38]=b):b=e[38];const F=d==="task-priorities"?m:null,J=d==="task-priorities";let E;e[39]===Symbol.for("react.memo_cache_sentinel")?(E=l=>!l&&V(),e[39]=E):E=e[39];let _;e[40]!==F||e[41]!==J?(_=s.jsx(te,{type:"task-priorities",title:"Task Priority",item:F,open:J,onOpenChange:E,showLevel:!0}),e[40]=F,e[41]=J,e[42]=_):_=e[42];let P;return e[43]!==v||e[44]!==A||e[45]!==b||e[46]!==_?(P=s.jsxs(ke,{breadcrumbs:Te,children:[U,G,v,A,b,_]}),e[43]=v,e[44]=A,e[45]=b,e[46]=_,e[47]=P):P=e[47],P}function Pe(B,e){re.delete(`/settings/opus/${B}/${e}`,{preserveScroll:!0})}export{Xe as default};
