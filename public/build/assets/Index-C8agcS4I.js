import{c as he,r as U,j as t,a as q,H as ge,L as je}from"./app-xIZYWCDp.js";import{B as ve}from"./badge-DqG3LgFm.js";import{B as H}from"./button-BXPk2AfM.js";import{I as ye}from"./input-_hq09xyC.js";import{c as ne,b as u,S as ce,a as oe,d as de}from"./select-BHIDx2Jm.js";import{M as xe,X as _e,a as Se,C as Ne}from"./app-layout-DLajnjpJ.js";import{B as ke,L as we,M as pe}from"./message-circle-DNevD8br.js";import{E as Ce}from"./ellipsis-DZmWO8KP.js";import{F as Fe}from"./funnel-BiBICFVb.js";import{S as De}from"./search-BXLvODjZ.js";import{C as Ie}from"./chevron-left-Dl3zzr4s.js";import{E as Le}from"./eye-BQaqR2Ei.js";/* empty css            */import"./index-DfT14WRw.js";import"./createLucideIcon-B3LiBfZd.js";import"./check-DQXP3I2T.js";import"./app-logo-icon-BTFLlc0O.js";import"./graduation-cap-BPGM7Ll1.js";const be=[{value:"bug_report",label:"Laporan Bug",icon:ke,color:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"},{value:"feature_request",label:"Permintaan Fitur",icon:we,color:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400"},{value:"general",label:"Feedback Umum",icon:pe,color:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"},{value:"other",label:"Lainnya",icon:Ce,color:"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300"}],Ee={pending:{label:"Menunggu",variant:"secondary"},read:{label:"Dibaca",variant:"default"},resolved:{label:"Selesai",variant:"outline"},closed:{label:"Ditutup",variant:"destructive"}};function Te(s){return new Date(s).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}function Be(s){const e=he.c(35),{feedback:l}=s;let f;e[0]!==l.type?(f=be.find(w=>w.value===l.type),e[0]=l.type,e[1]=f):f=e[1];const c=f,a=Ee[l.status],o=c?.icon||pe;let r;e[2]!==o||e[3]!==l.user?(r=t.jsx("div",{className:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-full bg-primary/10",children:l.user?.avatar?t.jsx("img",{src:l.user.avatar,alt:l.user.name,className:"h-10 w-10 rounded-full"}):t.jsx(o,{className:"h-5 w-5 text-primary"})}),e[2]=o,e[3]=l.user,e[4]=r):r=e[4];let n;e[5]!==l.subject?(n=t.jsx("span",{className:"font-medium truncate",children:l.subject}),e[5]=l.subject,e[6]=n):n=e[6];const b=`rounded-full px-2 py-0.5 text-xs ${c?.color}`,N=c?.label;let h;e[7]!==b||e[8]!==N?(h=t.jsx("span",{className:b,children:N}),e[7]=b,e[8]=N,e[9]=h):h=e[9];let g;e[10]!==a.label||e[11]!==a.variant?(g=t.jsx(ve,{variant:a.variant,className:"text-xs",children:a.label}),e[10]=a.label,e[11]=a.variant,e[12]=g):g=e[12];let i;e[13]!==n||e[14]!==h||e[15]!==g?(i=t.jsxs("div",{className:"flex items-center gap-2",children:[n,h,g]}),e[13]=n,e[14]=h,e[15]=g,e[16]=i):i=e[16];let j;e[17]!==l.message?(j=t.jsx("p",{className:"text-sm text-muted-foreground truncate",children:l.message}),e[17]=l.message,e[18]=j):j=e[18];const y=l.user?.name;let _;e[19]!==l.created_at?(_=Te(l.created_at),e[19]=l.created_at,e[20]=_):_=e[20];let p;e[21]!==y||e[22]!==_?(p=t.jsxs("p",{className:"mt-1 text-xs text-muted-foreground",children:["Dari: ",y," â€¢ ",_]}),e[21]=y,e[22]=_,e[23]=p):p=e[23];let d;e[24]!==p||e[25]!==i||e[26]!==j?(d=t.jsxs("div",{className:"min-w-0 flex-1",children:[i,j,p]}),e[24]=p,e[25]=i,e[26]=j,e[27]=d):d=e[27];const S=`/admin/feedbacks/${l.id}`;let k;e[28]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsx(H,{variant:"ghost",size:"icon",children:t.jsx(Le,{className:"h-4 w-4"})}),e[28]=k):k=e[28];let m;e[29]!==S?(m=t.jsx(je,{href:S,children:k}),e[29]=S,e[30]=m):m=e[30];let v;return e[31]!==d||e[32]!==m||e[33]!==r?(v=t.jsxs("div",{className:"flex items-center gap-4 rounded-lg border bg-card p-4 transition-all hover:border-primary/30 hover:shadow-sm",children:[r,d,m]}),e[31]=d,e[32]=m,e[33]=r,e[34]=v):v=e[34],v}function Me(s){const e=he.c(11),{data:l}=s;if(l.last_page<=1)return null;const f=l.from??0,c=l.to??0;let a;e[0]!==l.total||e[1]!==f||e[2]!==c?(a=t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Menampilkan ",f," - ",c," dari ",l.total," hasil"]}),e[0]=l.total,e[1]=f,e[2]=c,e[3]=a):a=e[3];let o;e[4]!==l.links?(o=l.links.map(Pe),e[4]=l.links,e[5]=o):o=e[5];let r;e[6]!==o?(r=t.jsx("div",{className:"flex items-center gap-2",children:o}),e[6]=o,e[7]=r):r=e[7];let n;return e[8]!==a||e[9]!==r?(n=t.jsxs("div",{className:"flex items-center justify-between",children:[a,r]}),e[8]=a,e[9]=r,e[10]=n):n=e[10],n}function Pe(s,e){return s.label.includes("Previous")?t.jsx(H,{variant:"outline",size:"icon",disabled:!s.url,onClick:()=>s.url&&q.get(s.url),children:t.jsx(Ie,{className:"h-4 w-4"})},e):s.label.includes("Next")?t.jsx(H,{variant:"outline",size:"icon",disabled:!s.url,onClick:()=>s.url&&q.get(s.url),children:t.jsx(Ne,{className:"h-4 w-4"})},e):t.jsx(H,{variant:s.active?"default":"outline",size:"sm",disabled:!s.url,onClick:()=>s.url&&q.get(s.url),children:s.label},e)}function at(s){const e=he.c(68),{feedbacks:l,users:f,filters:c}=s,[a,o]=U.useState(c.search??""),[r,n]=U.useState(c.type??""),[b,N]=U.useState(c.status??""),[h,g]=U.useState(c.user_id??""),[i,j]=U.useState(c.per_page??"20");let y;e[0]===Symbol.for("react.memo_cache_sentinel")?(y=[{title:"Admin",href:"/admin/feedbacks"},{title:"Feedbacks",href:"/admin/feedbacks"}],e[0]=y):y=e[0];const _=y;let p;e[1]!==i||e[2]!==a||e[3]!==b||e[4]!==r||e[5]!==h?(p=()=>{q.get("/admin/feedbacks",{search:a||void 0,type:r||void 0,status:b||void 0,user_id:h||void 0,per_page:i!=="20"?i:void 0},{preserveState:!0,replace:!0})},e[1]=i,e[2]=a,e[3]=b,e[4]=r,e[5]=h,e[6]=p):p=e[6];const d=p;let S;e[7]===Symbol.for("react.memo_cache_sentinel")?(S=()=>{o(""),n(""),N(""),g(""),j("20"),q.get("/admin/feedbacks")},e[7]=S):S=e[7];const k=S,m=a||r||b||h||i!=="20";let v;e[8]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsx(ge,{title:"Admin - Feedbacks"}),e[8]=v):v=e[8];let w;e[9]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Feedbacks"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Kelola semua feedback dari pengguna"})]}),e[9]=w):w=e[9];let K;e[10]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsx(xe,{className:"h-5 w-5 text-muted-foreground"}),e[10]=K):K=e[10];let C;e[11]!==l.total?(C=t.jsxs("div",{className:"flex items-center justify-between",children:[w,t.jsxs("div",{className:"flex items-center gap-2",children:[K,t.jsxs("span",{className:"text-sm text-muted-foreground",children:[l.total," total feedback"]})]})]}),e[11]=l.total,e[12]=C):C=e[12];let X;e[13]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[t.jsx(Fe,{className:"h-4 w-4"}),"Filter"]}),e[13]=X):X=e[13];let G;e[14]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx(De,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e[14]=G):G=e[14];let J;e[15]===Symbol.for("react.memo_cache_sentinel")?(J=x=>o(x.target.value),e[15]=J):J=e[15];let F;e[16]!==d?(F=x=>x.key==="Enter"&&d(),e[16]=d,e[17]=F):F=e[17];let D;e[18]!==a||e[19]!==F?(D=t.jsxs("div",{className:"relative",children:[G,t.jsx(ye,{placeholder:"Cari feedback...",value:a,onChange:J,onKeyDown:F,className:"pl-9"})]}),e[18]=a,e[19]=F,e[20]=D):D=e[20];const me=r||"all";let O;e[21]===Symbol.for("react.memo_cache_sentinel")?(O=x=>n(x==="all"?"":x),e[21]=O):O=e[21];let Q;e[22]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx(ce,{children:t.jsx(oe,{placeholder:"Tipe"})}),e[22]=Q):Q=e[22];let W;e[23]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsxs(ne,{children:[t.jsx(u,{value:"all",children:"Semua tipe"}),be.map(ze)]}),e[23]=W):W=e[23];let I;e[24]!==me?(I=t.jsxs(de,{value:me,onValueChange:O,children:[Q,W]}),e[24]=me,e[25]=I):I=e[25];const ue=b||"all";let Y;e[26]===Symbol.for("react.memo_cache_sentinel")?(Y=x=>N(x==="all"?"":x),e[26]=Y):Y=e[26];let Z;e[27]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx(ce,{children:t.jsx(oe,{placeholder:"Status"})}),e[27]=Z):Z=e[27];let ee;e[28]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsxs(ne,{children:[t.jsx(u,{value:"all",children:"Semua status"}),t.jsx(u,{value:"pending",children:"Menunggu"}),t.jsx(u,{value:"read",children:"Dibaca"}),t.jsx(u,{value:"resolved",children:"Selesai"}),t.jsx(u,{value:"closed",children:"Ditutup"})]}),e[28]=ee):ee=e[28];let L;e[29]!==ue?(L=t.jsxs(de,{value:ue,onValueChange:Y,children:[Z,ee]}),e[29]=ue,e[30]=L):L=e[30];const fe=h||"all";let te;e[31]===Symbol.for("react.memo_cache_sentinel")?(te=x=>g(x==="all"?"":x),e[31]=te):te=e[31];let le;e[32]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx(ce,{children:t.jsx(oe,{placeholder:"User"})}),e[32]=le):le=e[32];let se;e[33]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsx(u,{value:"all",children:"Semua user"}),e[33]=se):se=e[33];let E;e[34]!==f?(E=f.map($e),e[34]=f,e[35]=E):E=e[35];let T;e[36]!==E?(T=t.jsxs(ne,{children:[se,E]}),e[36]=E,e[37]=T):T=e[37];let B;e[38]!==fe||e[39]!==T?(B=t.jsxs(de,{value:fe,onValueChange:te,children:[le,T]}),e[38]=fe,e[39]=T,e[40]=B):B=e[40];let ae;e[41]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsx(ce,{children:t.jsx(oe,{placeholder:"Per halaman"})}),e[41]=ae):ae=e[41];let re;e[42]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsxs(ne,{children:[t.jsx(u,{value:"10",children:"10 per halaman"}),t.jsx(u,{value:"20",children:"20 per halaman"}),t.jsx(u,{value:"50",children:"50 per halaman"}),t.jsx(u,{value:"100",children:"100 per halaman"})]}),e[42]=re):re=e[42];let M;e[43]!==i?(M=t.jsxs(de,{value:i,onValueChange:j,children:[ae,re]}),e[43]=i,e[44]=M):M=e[44];let P;e[45]!==D||e[46]!==I||e[47]!==L||e[48]!==B||e[49]!==M?(P=t.jsxs("div",{className:"mt-4 grid gap-4 sm:grid-cols-2 lg:grid-cols-5",children:[D,I,L,B,M]}),e[45]=D,e[46]=I,e[47]=L,e[48]=B,e[49]=M,e[50]=P):P=e[50];let V;e[51]!==d?(V=t.jsx(H,{onClick:d,children:"Terapkan Filter"}),e[51]=d,e[52]=V):V=e[52];let $;e[53]!==m?($=m&&t.jsxs(H,{variant:"outline",onClick:k,children:[t.jsx(_e,{className:"mr-2 h-4 w-4"}),"Hapus"]}),e[53]=m,e[54]=$):$=e[54];let z;e[55]!==V||e[56]!==$?(z=t.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[V,$]}),e[55]=V,e[56]=$,e[57]=z):z=e[57];let A;e[58]!==P||e[59]!==z?(A=t.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[X,P,z]}),e[58]=P,e[59]=z,e[60]=A):A=e[60];let R;e[61]!==l||e[62]!==m?(R=l.data.length===0?t.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center rounded-xl border border-dashed py-16",children:[t.jsx(xe,{className:"h-12 w-12 text-muted-foreground/50"}),t.jsx("h3",{className:"mt-4 text-lg font-medium",children:"Tidak ada feedback"}),t.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:m?"Coba sesuaikan filter Anda":"Feedback dari pengguna akan muncul di sini"})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"space-y-2",children:l.data.map(Ve)}),t.jsx(Me,{data:l})]}),e[61]=l,e[62]=m,e[63]=R):R=e[63];let ie;return e[64]!==A||e[65]!==R||e[66]!==C?(ie=t.jsxs(Se,{breadcrumbs:_,children:[v,t.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[C,A,R]})]}),e[64]=A,e[65]=R,e[66]=C,e[67]=ie):ie=e[67],ie}function Ve(s){return t.jsx(Be,{feedback:s},s.id)}function $e(s){return t.jsx(u,{value:String(s.id),children:s.name},s.id)}function ze(s){return t.jsx(u,{value:s.value,children:s.label},s.value)}export{at as default};
