import{c as ye,u as Se,r as Ne,j as t,a as je,H as De}from"./app-C6vUMXGR.js";import{e as we,a as Ae}from"./app-layout-C1rFmZUK.js";import{B as ae}from"./button-CbSMJA6N.js";import{I as Ce}from"./input-CGnJOQiu.js";import{L as be}from"./label-DPuS-Zvn.js";import{a as ke,S as Ee,c as Pe,d as Te,b as $e}from"./select-XC7UU2Q7.js";import{b as Fe,d as Le,h as Ie,c as He,f as Re,e as ze,g as Be,A as Ve,a as Me}from"./alert-dialog-Cqx2r6ue.js";import{A as Oe}from"./arrow-left-BfX1ejtt.js";import{T as Ue}from"./trash-2-j8yhMGZg.js";import{S as We}from"./save-BmStTUW_.js";/* empty css            */import"./graduation-cap-DOye_TA7.js";import"./app-logo-icon-B8A7z8aW.js";import"./index-DFXG9kFy.js";import"./check-IYHmh358.js";import"./index-DSCJDbGz.js";function nt(o){const e=ye.c(108),{project:s,statusConfig:r}=o;let z,B;e[0]===Symbol.for("react.memo_cache_sentinel")?(z={title:"Opus",href:"/opus/workspaces"},B={title:"Projects",href:"/opus/workspaces"},e[0]=z,e[1]=B):(z=e[0],B=e[1]);const re=`/opus/projects/${s.id}`;let c;e[2]!==s.name||e[3]!==re?(c={title:s.name,href:re},e[2]=s.name,e[3]=re,e[4]=c):c=e[4];let V;e[5]===Symbol.for("react.memo_cache_sentinel")?(V={title:"Edit",href:"#"},e[5]=V):V=e[5];let M;e[6]!==c?(M=[z,B,c,V],e[6]=c,e[7]=M):M=e[7];const oe=M,ge=s.name;let n;e[8]!==s.status_id?(n=s.status_id.toString(),e[8]=s.status_id,e[9]=n):n=e[9];let O;e[10]!==s.name||e[11]!==n?(O={name:ge,status_id:n},e[10]=s.name,e[11]=n,e[12]=O):O=e[12];const{data:l,setData:d,put:ce,processing:ne,errors:i}=Se(O),[U,_e]=Ne.useState(!1);let W;e[13]!==s.id||e[14]!==ce?(W=a=>{a.preventDefault(),ce(`/opus/projects/${s.id}`)},e[13]=s.id,e[14]=ce,e[15]=W):W=e[15];const de=W;let q;e[16]!==s.id?(q=()=>{_e(!0),je.delete(`/opus/projects/${s.id}`,{onFinish:()=>_e(!1)})},e[16]=s.id,e[17]=q):q=e[17];const me=q,fe=`Edit ${s.name}`;let m;e[18]!==fe?(m=t.jsx(De,{title:fe}),e[18]=fe,e[19]=m):m=e[19];let f;e[20]!==s.id?(f=()=>je.visit(`/opus/projects/${s.id}`),e[20]=s.id,e[21]=f):f=e[21];let G;e[22]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx(Oe,{className:"h-4 w-4"}),e[22]=G):G=e[22];let u;e[23]!==f?(u=t.jsx(ae,{variant:"ghost",size:"icon",onClick:f,children:G}),e[23]=f,e[24]=u):u=e[24];let J;e[25]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Edit Project"}),t.jsx("p",{className:"text-muted-foreground",children:"Update project settings"})]}),e[25]=J):J=e[25];let h;e[26]!==u?(h=t.jsxs("div",{className:"flex items-center gap-4",children:[u,J]}),e[26]=u,e[27]=h):h=e[27];let K;e[28]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsx(Ie,{asChild:!0,children:t.jsxs(ae,{variant:"destructive",size:"sm",children:[t.jsx(Ue,{className:"mr-2 h-4 w-4"}),"Delete"]})}),e[28]=K):K=e[28];let Q;e[29]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx(He,{children:"Delete Project?"}),e[29]=Q):Q=e[29];let p;e[30]!==s.name?(p=t.jsxs(Fe,{children:[Q,t.jsxs(Le,{children:['This will permanently delete "',s.name,'" and all its tasks. This action cannot be undone.']})]}),e[30]=s.name,e[31]=p):p=e[31];let X;e[32]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx(Re,{children:"Cancel"}),e[32]=X):X=e[32];const ue=U?"Deleting...":"Delete";let x;e[33]!==me||e[34]!==U||e[35]!==ue?(x=t.jsxs(ze,{children:[X,t.jsx(Be,{onClick:me,disabled:U,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:ue})]}),e[33]=me,e[34]=U,e[35]=ue,e[36]=x):x=e[36];let j;e[37]!==p||e[38]!==x?(j=t.jsxs(Ve,{children:[K,t.jsxs(Me,{children:[p,x]})]}),e[37]=p,e[38]=x,e[39]=j):j=e[39];let b;e[40]!==h||e[41]!==j?(b=t.jsxs("div",{className:"flex items-center justify-between",children:[h,j]}),e[40]=h,e[41]=j,e[42]=b):b=e[42];let Y;e[43]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsx(be,{htmlFor:"name",children:"Project Name"}),e[43]=Y):Y=e[43];let _;e[44]!==d?(_=a=>d("name",a.target.value),e[44]=d,e[45]=_):_=e[45];const he=i.name?"border-destructive":"";let g;e[46]!==l.name||e[47]!==_||e[48]!==he?(g=t.jsx(Ce,{id:"name",type:"text",value:l.name,onChange:_,placeholder:"e.g., Website Redesign, Mobile App",className:he}),e[46]=l.name,e[47]=_,e[48]=he,e[49]=g):g=e[49];let v;e[50]!==i.name?(v=i.name&&t.jsx("p",{className:"text-sm text-destructive",children:i.name}),e[50]=i.name,e[51]=v):v=e[51];let y;e[52]!==g||e[53]!==v?(y=t.jsxs("div",{className:"space-y-2",children:[Y,g,v]}),e[52]=g,e[53]=v,e[54]=y):y=e[54];let Z;e[55]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx(be,{htmlFor:"status",children:"Status"}),e[55]=Z):Z=e[55];const ve=l.status_id;let S;e[56]!==d?(S=a=>d("status_id",a),e[56]=d,e[57]=S):S=e[57];const pe=i.status_id?"border-destructive":"";let ee;e[58]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx(ke,{placeholder:"Select status"}),e[58]=ee):ee=e[58];let N;e[59]!==pe?(N=t.jsx(Ee,{className:pe,children:ee}),e[59]=pe,e[60]=N):N=e[60];let D;e[61]!==r.project_statuses?(D=r.project_statuses.map(qe),e[61]=r.project_statuses,e[62]=D):D=e[62];let w;e[63]!==D?(w=t.jsx(Pe,{children:D}),e[63]=D,e[64]=w):w=e[64];let A;e[65]!==l.status_id||e[66]!==S||e[67]!==N||e[68]!==w?(A=t.jsxs(Te,{value:ve,onValueChange:S,children:[N,w]}),e[65]=l.status_id,e[66]=S,e[67]=N,e[68]=w,e[69]=A):A=e[69];let C;e[70]!==i.status_id?(C=i.status_id&&t.jsx("p",{className:"text-sm text-destructive",children:i.status_id}),e[70]=i.status_id,e[71]=C):C=e[71];let k;e[72]!==A||e[73]!==C?(k=t.jsxs("div",{className:"mt-6 space-y-2",children:[Z,A,C]}),e[72]=A,e[73]=C,e[74]=k):k=e[74];let te;e[75]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx(be,{children:"Preview"}),e[75]=te):te=e[75];let se;e[76]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10",children:t.jsx(we,{className:"h-5 w-5 text-primary"})}),e[76]=se):se=e[76];const xe=l.name||"Project Name";let E;e[77]!==xe?(E=t.jsx("p",{className:"font-semibold",children:xe}),e[77]=xe,e[78]=E):E=e[78];let P;e[79]!==l.status_id||e[80]!==r.project_statuses?(P=l.status_id&&t.jsx("span",{className:"mt-1 inline-block rounded-full px-2 py-0.5 text-xs text-white",style:{backgroundColor:r.project_statuses.find(a=>a.id.toString()===l.status_id)?.color||"#888"},children:r.project_statuses.find(a=>a.id.toString()===l.status_id)?.name}),e[79]=l.status_id,e[80]=r.project_statuses,e[81]=P):P=e[81];let T;e[82]!==E||e[83]!==P?(T=t.jsxs("div",{className:"mt-6",children:[te,t.jsxs("div",{className:"mt-2 flex items-center gap-3 rounded-lg border border-sidebar-border/70 p-4 dark:border-sidebar-border",children:[se,t.jsxs("div",{children:[E,P]})]})]}),e[82]=E,e[83]=P,e[84]=T):T=e[84];let $;e[85]!==y||e[86]!==k||e[87]!==T?($=t.jsxs("div",{className:"rounded-xl border border-sidebar-border/70 bg-card p-6 dark:border-sidebar-border",children:[y,k,T]}),e[85]=y,e[86]=k,e[87]=T,e[88]=$):$=e[88];let F;e[89]!==s.id?(F=t.jsx(ae,{type:"button",variant:"outline",onClick:()=>je.visit(`/opus/projects/${s.id}`),children:"Cancel"}),e[89]=s.id,e[90]=F):F=e[90];let le;e[91]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx(We,{className:"mr-2 h-4 w-4"}),e[91]=le):le=e[91];let L;e[92]!==ne?(L=t.jsxs(ae,{type:"submit",disabled:ne,children:[le,"Save Changes"]}),e[92]=ne,e[93]=L):L=e[93];let I;e[94]!==F||e[95]!==L?(I=t.jsxs("div",{className:"flex justify-end gap-3",children:[F,L]}),e[94]=F,e[95]=L,e[96]=I):I=e[96];let H;e[97]!==de||e[98]!==$||e[99]!==I?(H=t.jsx("div",{className:"mx-auto w-full max-w-2xl",children:t.jsxs("form",{onSubmit:de,className:"space-y-6",children:[$,I]})}),e[97]=de,e[98]=$,e[99]=I,e[100]=H):H=e[100];let R;e[101]!==b||e[102]!==H?(R=t.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 overflow-x-auto p-4",children:[b,H]}),e[101]=b,e[102]=H,e[103]=R):R=e[103];let ie;return e[104]!==oe||e[105]!==m||e[106]!==R?(ie=t.jsxs(Ae,{breadcrumbs:oe,children:[m,R]}),e[104]=oe,e[105]=m,e[106]=R,e[107]=ie):ie=e[107],ie}function qe(o){return t.jsx($e,{value:o.id.toString(),children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"h-2 w-2 rounded-full",style:{backgroundColor:o.color}}),o.name]})},o.id)}export{nt as default};
