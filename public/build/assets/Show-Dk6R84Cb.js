import{c as qe,u as Ie,j as l,H as Ee,L as He}from"./app-C6vUMXGR.js";import{q as we,a as Ce}from"./app-logo-icon-B8A7z8aW.js";import{B as Pe}from"./badge-DDR9oS0I.js";import{B as Fe}from"./button-CbSMJA6N.js";import{L as Le}from"./label-DPuS-Zvn.js";import{d as Ue,S as Me,a as Re,c as Ve,b as me}from"./select-XC7UU2Q7.js";import{T as ze}from"./textarea-A3fNX1KM.js";import{a as Ge}from"./app-layout-C1rFmZUK.js";import{B as Je,L as Ke,M as $e}from"./message-circle-DQf6vOmV.js";import{E as Oe}from"./ellipsis-BJU8i5dj.js";import{U as Qe}from"./user-BwoicHzU.js";import{A as We}from"./arrow-left-BfX1ejtt.js";import{C as Te}from"./graduation-cap-DOye_TA7.js";/* empty css            */import"./index-DFXG9kFy.js";import"./check-IYHmh358.js";const r=t=>({url:r.url(t),method:"get"});r.definition={methods:["get","head"],url:"/admin/feedbacks"};r.url=t=>r.definition.url+we(t);r.get=t=>({url:r.url(t),method:"get"});r.head=t=>({url:r.url(t),method:"head"});const Ae=t=>({action:r.url(t),method:"get"});Ae.get=t=>({action:r.url(t),method:"get"});Ae.head=t=>({action:r.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...t?.query??t?.mergeQuery??{}}}),method:"get"});r.form=Ae;const i=(t,e)=>({url:i.url(t,e),method:"get"});i.definition={methods:["get","head"],url:"/admin/feedbacks/{feedback}"};i.url=(t,e)=>{(typeof t=="string"||typeof t=="number")&&(t={feedback:t}),typeof t=="object"&&!Array.isArray(t)&&"id"in t&&(t={feedback:t.id}),Array.isArray(t)&&(t={feedback:t[0]}),t=Ce(t);const a={feedback:typeof t.feedback=="object"?t.feedback.id:t.feedback};return i.definition.url.replace("{feedback}",a.feedback.toString()).replace(/\/+$/,"")+we(e)};i.get=(t,e)=>({url:i.url(t,e),method:"get"});i.head=(t,e)=>({url:i.url(t,e),method:"head"});const De=(t,e)=>({action:i.url(t,e),method:"get"});De.get=(t,e)=>({action:i.url(t,e),method:"get"});De.head=(t,e)=>({action:i.url(t,{[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});i.form=De;const m=(t,e)=>({url:m.url(t,e),method:"patch"});m.definition={methods:["patch"],url:"/admin/feedbacks/{feedback}/status"};m.url=(t,e)=>{(typeof t=="string"||typeof t=="number")&&(t={feedback:t}),typeof t=="object"&&!Array.isArray(t)&&"id"in t&&(t={feedback:t.id}),Array.isArray(t)&&(t={feedback:t[0]}),t=Ce(t);const a={feedback:typeof t.feedback=="object"?t.feedback.id:t.feedback};return m.definition.url.replace("{feedback}",a.feedback.toString()).replace(/\/+$/,"")+we(e)};m.patch=(t,e)=>({url:m.url(t,e),method:"patch"});const Be=(t,e)=>({action:m.url(t,{[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});Be.patch=(t,e)=>({action:m.url(t,{[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});m.form=Be;const Xe={index:r,show:i,updateStatus:m},Ye=[{value:"bug_report",label:"Laporan Bug",icon:Je,color:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"},{value:"feature_request",label:"Permintaan Fitur",icon:Ke,color:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400"},{value:"general",label:"Feedback Umum",icon:$e,color:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"},{value:"other",label:"Lainnya",icon:Oe,color:"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300"}],Ze={pending:{label:"Menunggu",variant:"secondary"},read:{label:"Dibaca",variant:"default"},resolved:{label:"Selesai",variant:"outline"},closed:{label:"Ditutup",variant:"destructive"}};function Se(t){return new Date(t).toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}function ue(t){const e=qe.c(11),{icon:a,label:f,value:u,className:h}=t,n=`rounded-lg border bg-card p-4 ${h??""}`;let o;e[0]!==a?(o=l.jsx(a,{className:"h-4 w-4"}),e[0]=a,e[1]=o):o=e[1];let d;e[2]!==f||e[3]!==o?(d=l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o,f]}),e[2]=f,e[3]=o,e[4]=d):d=e[4];let s;e[5]!==u?(s=l.jsx("div",{className:"mt-2",children:u}),e[5]=u,e[6]=s):s=e[6];let c;return e[7]!==n||e[8]!==d||e[9]!==s?(c=l.jsxs("div",{className:n,children:[d,s]}),e[7]=n,e[8]=d,e[9]=s,e[10]=c):c=e[10],c}function xt(t){const e=qe.c(124),{feedback:a}=t;let f;e[0]!==a.type?(f=Ye.find(b=>b.value===a.type),e[0]=a.type,e[1]=f):f=e[1];const u=f,h=Ze[a.status],n=u?.icon||$e,o=a.admin_notes||"";let d;e[2]!==a.status||e[3]!==o?(d={status:a.status,admin_notes:o},e[2]=a.status,e[3]=o,e[4]=d):d=e[4];const{data:s,setData:c,patch:fe,processing:he,recentlySuccessful:be}=Ie(d);let ee,te;e[5]===Symbol.for("react.memo_cache_sentinel")?(ee={title:"Admin",href:"/admin/feedbacks"},te={title:"Feedbacks",href:"/admin/feedbacks"},e[5]=ee,e[6]=te):(ee=e[5],te=e[6]);const xe=`#${a.id}`,pe=`/admin/feedbacks/${a.id}`;let le;e[7]!==xe||e[8]!==pe?(le=[ee,te,{title:xe,href:pe}],e[7]=xe,e[8]=pe,e[9]=le):le=e[9];const je=le;let ae;e[10]!==a.id||e[11]!==fe?(ae=b=>{b.preventDefault(),fe(Xe.updateStatus({feedback:a.id}).url,{preserveScroll:!0})},e[10]=a.id,e[11]=fe,e[12]=ae):ae=e[12];const ye=ae,ge=`Feedback #${a.id}`;let x;e[13]!==ge?(x=l.jsx(Ee,{title:ge}),e[13]=ge,e[14]=x):x=e[14];let se;e[15]===Symbol.for("react.memo_cache_sentinel")?(se=l.jsx(He,{href:"/admin/feedbacks",children:l.jsx(Fe,{variant:"ghost",size:"icon",children:l.jsx(We,{className:"h-5 w-5"})})}),e[15]=se):se=e[15];let p;e[16]!==a.id?(p=l.jsxs("h1",{className:"text-2xl font-bold",children:["Feedback #",a.id]}),e[16]=a.id,e[17]=p):p=e[17];const ve=`rounded-full px-3 py-1 text-sm ${u?.color}`,ke=u?.label;let j;e[18]!==ve||e[19]!==ke?(j=l.jsx("span",{className:ve,children:ke}),e[18]=ve,e[19]=ke,e[20]=j):j=e[20];let y;e[21]!==h.label||e[22]!==h.variant?(y=l.jsx(Pe,{variant:h.variant,children:h.label}),e[21]=h.label,e[22]=h.variant,e[23]=y):y=e[23];let g;e[24]!==p||e[25]!==j||e[26]!==y?(g=l.jsxs("div",{className:"flex items-center gap-3",children:[p,j,y]}),e[24]=p,e[25]=j,e[26]=y,e[27]=g):g=e[27];let v;e[28]!==a.subject?(v=l.jsx("p",{className:"mt-1 text-muted-foreground",children:a.subject}),e[28]=a.subject,e[29]=v):v=e[29];let k;e[30]!==g||e[31]!==v?(k=l.jsxs("div",{className:"flex items-center gap-4",children:[se,l.jsxs("div",{className:"flex-1",children:[g,v]})]}),e[30]=g,e[31]=v,e[32]=k):k=e[32];let N;e[33]!==n?(N=l.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10",children:l.jsx(n,{className:"h-5 w-5 text-primary"})}),e[33]=n,e[34]=N):N=e[34];let _;e[35]!==a.subject?(_=l.jsx("h3",{className:"font-semibold",children:a.subject}),e[35]=a.subject,e[36]=_):_=e[36];let S;e[37]!==a.created_at?(S=Se(a.created_at),e[37]=a.created_at,e[38]=S):S=e[38];let w;e[39]!==S?(w=l.jsx("p",{className:"text-sm text-muted-foreground",children:S}),e[39]=S,e[40]=w):w=e[40];let A;e[41]!==_||e[42]!==w?(A=l.jsxs("div",{children:[_,w]}),e[41]=_,e[42]=w,e[43]=A):A=e[43];let D;e[44]!==N||e[45]!==A?(D=l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[N,A]}),e[44]=N,e[45]=A,e[46]=D):D=e[46];let F;e[47]!==a.message?(F=l.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:l.jsx("p",{className:"whitespace-pre-wrap",children:a.message})}),e[47]=a.message,e[48]=F):F=e[48];let L;e[49]!==D||e[50]!==F?(L=l.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[D,F]}),e[49]=D,e[50]=F,e[51]=L):L=e[51];let re;e[52]===Symbol.for("react.memo_cache_sentinel")?(re=l.jsx("h3",{className:"font-semibold mb-4",children:"Update Status"}),e[52]=re):re=e[52];let ie;e[53]===Symbol.for("react.memo_cache_sentinel")?(ie=l.jsx(Le,{htmlFor:"status",children:"Status"}),e[53]=ie):ie=e[53];let Q;e[54]!==c?(Q=b=>c("status",b),e[54]=c,e[55]=Q):Q=e[55];let de;e[56]===Symbol.for("react.memo_cache_sentinel")?(de=l.jsx(Me,{id:"status",children:l.jsx(Re,{})}),e[56]=de):de=e[56];let ce;e[57]===Symbol.for("react.memo_cache_sentinel")?(ce=l.jsxs(Ve,{children:[l.jsx(me,{value:"pending",children:"Menunggu"}),l.jsx(me,{value:"read",children:"Dibaca"}),l.jsx(me,{value:"resolved",children:"Selesai"}),l.jsx(me,{value:"closed",children:"Ditutup"})]}),e[57]=ce):ce=e[57];let T;e[58]!==s.status||e[59]!==Q?(T=l.jsxs("div",{className:"grid gap-2",children:[ie,l.jsxs(Ue,{value:s.status,onValueChange:Q,children:[de,ce]})]}),e[58]=s.status,e[59]=Q,e[60]=T):T=e[60];let ne;e[61]===Symbol.for("react.memo_cache_sentinel")?(ne=l.jsx(Le,{htmlFor:"admin_notes",children:"Catatan Admin"}),e[61]=ne):ne=e[61];let q;e[62]!==c?(q=b=>c("admin_notes",b.target.value),e[62]=c,e[63]=q):q=e[63];let C;e[64]!==s.admin_notes||e[65]!==q?(C=l.jsxs("div",{className:"grid gap-2",children:[ne,l.jsx(ze,{id:"admin_notes",placeholder:"Tambahkan catatan internal (tidak terlihat oleh user)",value:s.admin_notes,onChange:q,rows:4})]}),e[64]=s.admin_notes,e[65]=q,e[66]=C):C=e[66];let $;e[67]!==he?($=l.jsx(Fe,{type:"submit",disabled:he,children:"Simpan Perubahan"}),e[67]=he,e[68]=$):$=e[68];let B;e[69]!==be?(B=be&&l.jsx("p",{className:"text-sm text-green-600",children:"Tersimpan!"}),e[69]=be,e[70]=B):B=e[70];let I;e[71]!==$||e[72]!==B?(I=l.jsxs("div",{className:"flex items-center gap-4",children:[$,B]}),e[71]=$,e[72]=B,e[73]=I):I=e[73];let E;e[74]!==ye||e[75]!==T||e[76]!==C||e[77]!==I?(E=l.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[re,l.jsxs("form",{onSubmit:ye,className:"space-y-4",children:[T,C,I]})]}),e[74]=ye,e[75]=T,e[76]=C,e[77]=I,e[78]=E):E=e[78];let H;e[79]!==L||e[80]!==E?(H=l.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[L,E]}),e[79]=L,e[80]=E,e[81]=H):H=e[81];let P;e[82]!==a.user.avatar||e[83]!==a.user.name?(P=a.user.avatar?l.jsx("img",{src:a.user.avatar,alt:a.user.name,className:"h-10 w-10 rounded-full"}):l.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-muted",children:l.jsx(Qe,{className:"h-5 w-5 text-muted-foreground"})}),e[82]=a.user.avatar,e[83]=a.user.name,e[84]=P):P=e[84];let U;e[85]!==a.user.name?(U=l.jsx("p",{className:"font-medium",children:a.user.name}),e[85]=a.user.name,e[86]=U):U=e[86];let M;e[87]!==a.user.email?(M=l.jsx("p",{className:"text-sm text-muted-foreground",children:a.user.email}),e[87]=a.user.email,e[88]=M):M=e[88];let R;e[89]!==U||e[90]!==M?(R=l.jsxs("div",{children:[U,M]}),e[89]=U,e[90]=M,e[91]=R):R=e[91];let V;e[92]!==P||e[93]!==R?(V=l.jsx(ue,{icon:Qe,label:"Pengirim",value:l.jsxs("div",{className:"flex items-center gap-3",children:[P,R]})}),e[92]=P,e[93]=R,e[94]=V):V=e[94];const Ne=`rounded-full px-3 py-1 text-sm ${u?.color}`,_e=u?.label;let z;e[95]!==Ne||e[96]!==_e?(z=l.jsx("span",{className:Ne,children:_e}),e[95]=Ne,e[96]=_e,e[97]=z):z=e[97];let G;e[98]!==n||e[99]!==z?(G=l.jsx(ue,{icon:n,label:"Tipe Feedback",value:z}),e[98]=n,e[99]=z,e[100]=G):G=e[100];let J;e[101]!==a.created_at?(J=Se(a.created_at),e[101]=a.created_at,e[102]=J):J=e[102];let K;e[103]!==J?(K=l.jsx(ue,{icon:Te,label:"Dikirim pada",value:l.jsx("p",{className:"text-sm",children:J})}),e[103]=J,e[104]=K):K=e[104];let O;e[105]!==a.updated_at?(O=Se(a.updated_at),e[105]=a.updated_at,e[106]=O):O=e[106];let W;e[107]!==O?(W=l.jsx(ue,{icon:Te,label:"Terakhir diperbarui",value:l.jsx("p",{className:"text-sm",children:O})}),e[107]=O,e[108]=W):W=e[108];let X;e[109]!==V||e[110]!==G||e[111]!==K||e[112]!==W?(X=l.jsxs("div",{className:"space-y-4",children:[V,G,K,W]}),e[109]=V,e[110]=G,e[111]=K,e[112]=W,e[113]=X):X=e[113];let Y;e[114]!==H||e[115]!==X?(Y=l.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[H,X]}),e[114]=H,e[115]=X,e[116]=Y):Y=e[116];let Z;e[117]!==k||e[118]!==Y?(Z=l.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[k,Y]}),e[117]=k,e[118]=Y,e[119]=Z):Z=e[119];let oe;return e[120]!==je||e[121]!==x||e[122]!==Z?(oe=l.jsxs(Ge,{breadcrumbs:je,children:[x,Z]}),e[120]=je,e[121]=x,e[122]=Z,e[123]=oe):oe=e[123],oe}export{xt as default};
