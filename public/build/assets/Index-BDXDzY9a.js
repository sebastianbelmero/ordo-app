import{c as pe,r as U,j as t,a as H,H as _e,L as be}from"./app-C6vUMXGR.js";import{A as je,X as Ne,a as Se,C as we}from"./app-layout-C1rFmZUK.js";import{B}from"./button-CbSMJA6N.js";import{I as de}from"./input-CGnJOQiu.js";import{S as fe,a as ue,b as g,c as he,d as xe}from"./select-XC7UU2Q7.js";import{F as Ce}from"./funnel-gbSg2v6v.js";import{S as Ae}from"./search-vQPuSVAG.js";import{U as Le}from"./user-BwoicHzU.js";import{C as Fe}from"./chevron-left-qbbF_KiJ.js";import{C as De}from"./graduation-cap-DOye_TA7.js";import{E as ke}from"./eye-PZw2i3lh.js";/* empty css            */import"./app-logo-icon-B8A7z8aW.js";import"./index-DFXG9kFy.js";import"./check-IYHmh358.js";function Ie(s){return new Date(s).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}function Ee(s){const e={default:"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300",auth:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",user:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",system:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400"};return e[s??"default"]??e.default}function Pe(s){const e=pe.c(27),{activity:l}=s;let o;e[0]!==l.causer?(o=t.jsx("div",{className:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-full bg-primary/10",children:l.causer?.avatar?t.jsx("img",{src:l.causer.avatar,alt:l.causer.name,className:"h-10 w-10 rounded-full"}):t.jsx(Le,{className:"h-5 w-5 text-primary"})}),e[0]=l.causer,e[1]=o):o=e[1];const h=l.causer?.name??"System";let r;e[2]!==h?(r=t.jsx("span",{className:"font-medium",children:h}),e[2]=h,e[3]=r):r=e[3];let a;e[4]!==l.log_name?(a=l.log_name&&t.jsx("span",{className:`rounded-full px-2 py-0.5 text-xs ${Ee(l.log_name)}`,children:l.log_name}),e[4]=l.log_name,e[5]=a):a=e[5];let c;e[6]!==r||e[7]!==a?(c=t.jsxs("div",{className:"flex items-center gap-2",children:[r,a]}),e[6]=r,e[7]=a,e[8]=c):c=e[8];let i;e[9]!==l.description?(i=t.jsx("p",{className:"text-sm text-muted-foreground",children:l.description}),e[9]=l.description,e[10]=i):i=e[10];let j;e[11]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsx(De,{className:"h-3 w-3"}),e[11]=j):j=e[11];let f;e[12]!==l.created_at?(f=Ie(l.created_at),e[12]=l.created_at,e[13]=f):f=e[13];let x;e[14]!==f?(x=t.jsxs("p",{className:"mt-1 flex items-center gap-1 text-xs text-muted-foreground",children:[j,f]}),e[14]=f,e[15]=x):x=e[15];let n;e[16]!==c||e[17]!==i||e[18]!==x?(n=t.jsxs("div",{className:"min-w-0 flex-1",children:[c,i,x]}),e[16]=c,e[17]=i,e[18]=x,e[19]=n):n=e[19];const v=`/admin/activity-logs/${l.id}`;let u;e[20]===Symbol.for("react.memo_cache_sentinel")?(u=t.jsx(B,{variant:"ghost",size:"icon",children:t.jsx(ke,{className:"h-4 w-4"})}),e[20]=u):u=e[20];let p;e[21]!==v?(p=t.jsx(be,{href:v,children:u}),e[21]=v,e[22]=p):p=e[22];let m;return e[23]!==o||e[24]!==n||e[25]!==p?(m=t.jsxs("div",{className:"flex items-center gap-4 rounded-lg border bg-card p-4 transition-all hover:border-primary/30 hover:shadow-sm",children:[o,n,p]}),e[23]=o,e[24]=n,e[25]=p,e[26]=m):m=e[26],m}function Te(s){const e=pe.c(11),{data:l}=s;if(l.last_page<=1)return null;const o=l.from??0,h=l.to??0;let r;e[0]!==l.total||e[1]!==o||e[2]!==h?(r=t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",o," to ",h," of ",l.total," results"]}),e[0]=l.total,e[1]=o,e[2]=h,e[3]=r):r=e[3];let a;e[4]!==l.links?(a=l.links.map(Ve),e[4]=l.links,e[5]=a):a=e[5];let c;e[6]!==a?(c=t.jsx("div",{className:"flex items-center gap-2",children:a}),e[6]=a,e[7]=c):c=e[7];let i;return e[8]!==r||e[9]!==c?(i=t.jsxs("div",{className:"flex items-center justify-between",children:[r,c]}),e[8]=r,e[9]=c,e[10]=i):i=e[10],i}function Ve(s,e){return s.label.includes("Previous")?t.jsx(B,{variant:"outline",size:"icon",disabled:!s.url,onClick:()=>s.url&&H.get(s.url),children:t.jsx(Fe,{className:"h-4 w-4"})},e):s.label.includes("Next")?t.jsx(B,{variant:"outline",size:"icon",disabled:!s.url,onClick:()=>s.url&&H.get(s.url),children:t.jsx(we,{className:"h-4 w-4"})},e):t.jsx(B,{variant:s.active?"default":"outline",size:"sm",disabled:!s.url,onClick:()=>s.url&&H.get(s.url),children:s.label},e)}function tt(s){const e=pe.c(76),{activities:l,logNames:o,users:h,filters:r}=s,[a,c]=U.useState(r.search??""),[i,j]=U.useState(r.log_name??""),[f,x]=U.useState(r.causer_id??""),[n,v]=U.useState(r.from_date??""),[u,p]=U.useState(r.to_date??""),[m,ge]=U.useState(r.per_page??"20");let K;e[0]===Symbol.for("react.memo_cache_sentinel")?(K=[{title:"Admin",href:"/admin/activity-logs"},{title:"Activity Logs",href:"/admin/activity-logs"}],e[0]=K):K=e[0];const ve=K;let X;e[1]!==f||e[2]!==n||e[3]!==i||e[4]!==m||e[5]!==a||e[6]!==u?(X=()=>{H.get("/admin/activity-logs",{search:a||void 0,log_name:i||void 0,causer_id:f||void 0,from_date:n||void 0,to_date:u||void 0,per_page:m!=="20"?m:void 0},{preserveState:!0,replace:!0})},e[1]=f,e[2]=n,e[3]=i,e[4]=m,e[5]=a,e[6]=u,e[7]=X):X=e[7];const y=X;let q;e[8]===Symbol.for("react.memo_cache_sentinel")?(q=()=>{c(""),j(""),x(""),v(""),p(""),ge("20"),H.get("/admin/activity-logs")},e[8]=q):q=e[8];const ye=q,_=a||i||f||n||u||m!=="20";let G;e[9]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx(_e,{title:"Activity Logs"}),e[9]=G):G=e[9];let J;e[10]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Activity Logs"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"View all activity logs across the application"})]}),e[10]=J):J=e[10];let M;e[11]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsx(je,{className:"h-5 w-5 text-muted-foreground"}),e[11]=M):M=e[11];let b;e[12]!==l.total?(b=t.jsxs("div",{className:"flex items-center justify-between",children:[J,t.jsxs("div",{className:"flex items-center gap-2",children:[M,t.jsxs("span",{className:"text-sm text-muted-foreground",children:[l.total," total logs"]})]})]}),e[12]=l.total,e[13]=b):b=e[13];let O;e[14]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[t.jsx(Ce,{className:"h-4 w-4"}),"Filters"]}),e[14]=O):O=e[14];let Q;e[15]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx(Ae,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e[15]=Q):Q=e[15];let W;e[16]===Symbol.for("react.memo_cache_sentinel")?(W=d=>c(d.target.value),e[16]=W):W=e[16];let N;e[17]!==y?(N=d=>d.key==="Enter"&&y(),e[17]=y,e[18]=N):N=e[18];let S;e[19]!==a||e[20]!==N?(S=t.jsxs("div",{className:"relative",children:[Q,t.jsx(de,{placeholder:"Search description...",value:a,onChange:W,onKeyDown:N,className:"pl-9"})]}),e[19]=a,e[20]=N,e[21]=S):S=e[21];const ne=i||"all";let Y;e[22]===Symbol.for("react.memo_cache_sentinel")?(Y=d=>j(d==="all"?"":d),e[22]=Y):Y=e[22];let Z;e[23]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx(fe,{children:t.jsx(ue,{placeholder:"Log type"})}),e[23]=Z):Z=e[23];let ee;e[24]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx(g,{value:"all",children:"All types"}),e[24]=ee):ee=e[24];let w;e[25]!==o?(w=o.map(Re),e[25]=o,e[26]=w):w=e[26];let C;e[27]!==w?(C=t.jsxs(he,{children:[ee,w]}),e[27]=w,e[28]=C):C=e[28];let A;e[29]!==ne||e[30]!==C?(A=t.jsxs(xe,{value:ne,onValueChange:Y,children:[Z,C]}),e[29]=ne,e[30]=C,e[31]=A):A=e[31];const me=f||"all";let te;e[32]===Symbol.for("react.memo_cache_sentinel")?(te=d=>x(d==="all"?"":d),e[32]=te):te=e[32];let le;e[33]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx(fe,{children:t.jsx(ue,{placeholder:"User"})}),e[33]=le):le=e[33];let se;e[34]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsx(g,{value:"all",children:"All users"}),e[34]=se):se=e[34];let L;e[35]!==h?(L=h.map(ze),e[35]=h,e[36]=L):L=e[36];let F;e[37]!==L?(F=t.jsxs(he,{children:[se,L]}),e[37]=L,e[38]=F):F=e[38];let D;e[39]!==me||e[40]!==F?(D=t.jsxs(xe,{value:me,onValueChange:te,children:[le,F]}),e[39]=me,e[40]=F,e[41]=D):D=e[41];let ae;e[42]===Symbol.for("react.memo_cache_sentinel")?(ae=d=>v(d.target.value),e[42]=ae):ae=e[42];let k;e[43]!==n?(k=t.jsx(de,{type:"date",placeholder:"From date",value:n,onChange:ae}),e[43]=n,e[44]=k):k=e[44];let re;e[45]===Symbol.for("react.memo_cache_sentinel")?(re=d=>p(d.target.value),e[45]=re):re=e[45];let I;e[46]!==u?(I=t.jsx(de,{type:"date",placeholder:"To date",value:u,onChange:re}),e[46]=u,e[47]=I):I=e[47];let ie;e[48]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx(fe,{children:t.jsx(ue,{placeholder:"Per page"})}),e[48]=ie):ie=e[48];let ce;e[49]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsxs(he,{children:[t.jsx(g,{value:"10",children:"10 per page"}),t.jsx(g,{value:"20",children:"20 per page"}),t.jsx(g,{value:"50",children:"50 per page"}),t.jsx(g,{value:"100",children:"100 per page"})]}),e[49]=ce):ce=e[49];let E;e[50]!==m?(E=t.jsxs(xe,{value:m,onValueChange:ge,children:[ie,ce]}),e[50]=m,e[51]=E):E=e[51];let P;e[52]!==S||e[53]!==A||e[54]!==D||e[55]!==k||e[56]!==I||e[57]!==E?(P=t.jsxs("div",{className:"mt-4 grid gap-4 sm:grid-cols-2 lg:grid-cols-6",children:[S,A,D,k,I,E]}),e[52]=S,e[53]=A,e[54]=D,e[55]=k,e[56]=I,e[57]=E,e[58]=P):P=e[58];let T;e[59]!==y?(T=t.jsx(B,{onClick:y,children:"Apply Filters"}),e[59]=y,e[60]=T):T=e[60];let V;e[61]!==_?(V=_&&t.jsxs(B,{variant:"outline",onClick:ye,children:[t.jsx(Ne,{className:"mr-2 h-4 w-4"}),"Clear"]}),e[61]=_,e[62]=V):V=e[62];let $;e[63]!==T||e[64]!==V?($=t.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[T,V]}),e[63]=T,e[64]=V,e[65]=$):$=e[65];let z;e[66]!==P||e[67]!==$?(z=t.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[O,P,$]}),e[66]=P,e[67]=$,e[68]=z):z=e[68];let R;e[69]!==l||e[70]!==_?(R=l.data.length===0?t.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center rounded-xl border border-dashed py-16",children:[t.jsx(je,{className:"h-12 w-12 text-muted-foreground/50"}),t.jsx("h3",{className:"mt-4 text-lg font-medium",children:"No activity logs found"}),t.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:_?"Try adjusting your filters":"Activity logs will appear here as users interact with the app"})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"space-y-2",children:l.data.map($e)}),t.jsx(Te,{data:l})]}),e[69]=l,e[70]=_,e[71]=R):R=e[71];let oe;return e[72]!==z||e[73]!==R||e[74]!==b?(oe=t.jsxs(Se,{breadcrumbs:ve,children:[G,t.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[b,z,R]})]}),e[72]=z,e[73]=R,e[74]=b,e[75]=oe):oe=e[75],oe}function $e(s){return t.jsx(Pe,{activity:s},s.id)}function ze(s){return t.jsx(g,{value:String(s.id),children:s.name},s.id)}function Re(s){return t.jsx(g,{value:s,children:s},s)}export{tt as default};
