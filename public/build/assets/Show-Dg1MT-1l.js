import{c as Q,r as re,j as s,L as Y,a as ie,H as ce}from"./app-BZn2Y_Rz.js";import{M as oe,H as ne,a as de}from"./app-layout-Bs9Ih2Sn.js";import{B as F}from"./button-VzMRwoWK.js";import{B as me}from"./building-2-DEIJke4W.js";import{M as xe}from"./map-pin-C2M4iQO_.js";import{D as fe}from"./dollar-sign-BZnjoG7V.js";import{E as he}from"./external-link-B8IKtLAa.js";import{A as ue}from"./arrow-left-BTeP98uM.js";import{C as Z}from"./clock-BbDyq_g-.js";import{c as W}from"./graduation-cap-Bl6zL9C8.js";import{S as pe}from"./star-CxiMod6J.js";import{C as ge}from"./circle-user-CaQObetP.js";/* empty css            */import"./app-logo-icon-GpKUnOHy.js";const je=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],te=W("circle-check-big",je);const be=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],le=W("circle-x",be);const Ne=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],ve=W("hourglass",Ne);function ye(r,e){if(!r&&!e)return"-";const t=a=>a>=1e6?`${(a/1e6).toFixed(1)}M`:a>=1e3?`${(a/1e3).toFixed(0)}K`:a.toLocaleString();return r&&e?`${t(r)} - ${t(e)}`:r?`${t(r)}+`:`Up to ${t(e)}`}function ee(r){return new Date(r).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}function _e(r){switch(r){case"accepted":return{icon:te,label:"Accepted",color:"text-emerald-500",bg:"bg-emerald-100 dark:bg-emerald-900/30"};case"declined":return{icon:le,label:"Declined",color:"text-red-500",bg:"bg-red-100 dark:bg-red-900/30"};default:return{icon:ve,label:"Pending",color:"text-amber-500",bg:"bg-amber-100 dark:bg-amber-900/30"}}}function Se(r){const e=Q.c(3),{level:t}=r;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=[1,2,3,4,5],e[0]=a):a=e[0];let l;return e[1]!==t?(l=s.jsx("div",{className:"flex gap-1",children:a.map(c=>s.jsx(pe,{className:`h-4 w-4 ${c<=t?"fill-amber-400 text-amber-400":"text-muted-foreground/30"}`},c))}),e[1]=t,e[2]=l):l=e[2],l}function se(r){const e=Q.c(13),{user:t,label:a}=r;let l;e[0]!==a?(l=s.jsx("p",{className:"mb-3 text-sm text-muted-foreground",children:a}),e[0]=a,e[1]=l):l=e[1];let c;e[2]===Symbol.for("react.memo_cache_sentinel")?(c=s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-slate-100 dark:bg-slate-800",children:s.jsx(ge,{className:"h-8 w-8 text-slate-500"})}),e[2]=c):c=e[2];const d=t?.name??"Unknown User";let i;e[3]!==d?(i=s.jsx("p",{className:"font-medium",children:d}),e[3]=d,e[4]=i):i=e[4];const x=t?.email??"-";let m;e[5]!==x?(m=s.jsx("p",{className:"text-sm text-muted-foreground",children:x}),e[5]=x,e[6]=m):m=e[6];let o;e[7]!==i||e[8]!==m?(o=s.jsxs("div",{className:"flex items-center gap-3",children:[c,s.jsxs("div",{children:[i,m]})]}),e[7]=i,e[8]=m,e[9]=o):o=e[9];let n;return e[10]!==l||e[11]!==o?(n=s.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[l,o]}),e[10]=l,e[11]=o,e[12]=n):n=e[12],n}function Pe(r){const e=Q.c(67),{share:t,currentUserId:a}=r,[l,c]=re.useState(!1);let d;e[0]!==t.status?(d=_e(t.status),e[0]=t.status,e[1]=d):d=e[1];const i=d,x=i.icon,m=t.receiver_id===a,o=t.status==="pending"&&m;let n,D;e[2]===Symbol.for("react.memo_cache_sentinel")?(n={title:"Vocatio",href:"/vocatio/pipelines"},D={title:"Shares",href:"/vocatio/shares"},e[2]=n,e[3]=D):(n=e[2],D=e[3]);const H=t.job?`${t.job.position} @ ${t.job.company}`:"Share Detail",J=`/vocatio/shares/${t.id}`;let M;e[4]!==H||e[5]!==J?(M=[n,D,{title:H,href:J}],e[4]=H,e[5]=J,e[6]=M):M=e[6];const q=M;let A;e[7]!==t.id?(A=ae=>{c(!0),ie.patch(`/vocatio/shares/${t.id}/respond`,{status:ae},{onFinish:()=>c(!1)})},e[7]=t.id,e[8]=A):A=e[8];const U=A;let I;e[9]===Symbol.for("react.memo_cache_sentinel")?(I=s.jsx(ce,{title:"Share Detail - Vocatio"}),e[9]=I):I=e[9];let R;e[10]===Symbol.for("react.memo_cache_sentinel")?(R=s.jsx(Y,{href:"/vocatio/shares",children:s.jsx(F,{variant:"ghost",size:"icon",children:s.jsx(ue,{className:"h-5 w-5"})})}),e[10]=R):R=e[10];let V;e[11]===Symbol.for("react.memo_cache_sentinel")?(V=s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-violet-100 dark:bg-violet-900/30",children:s.jsx(ne,{className:"h-6 w-6 text-violet-600"})}),e[11]=V):V=e[11];let B;e[12]===Symbol.for("react.memo_cache_sentinel")?(B=s.jsx("h1",{className:"text-2xl font-bold",children:"Job Share"}),e[12]=B):B=e[12];const K=t.sender?.name??"Someone",T=t.receiver?.name??"someone";let f;e[13]!==K||e[14]!==T?(f=s.jsxs("div",{className:"flex-1",children:[B,s.jsxs("p",{className:"text-muted-foreground",children:[K," shared a job with ",T]})]}),e[13]=K,e[14]=T,e[15]=f):f=e[15];const X=`flex items-center gap-2 rounded-full px-4 py-2 ${i.bg}`,G=`h-5 w-5 ${i.color}`;let h;e[16]!==x||e[17]!==G?(h=s.jsx(x,{className:G}),e[16]=x,e[17]=G,e[18]=h):h=e[18];const O=`font-medium ${i.color}`;let u;e[19]!==i.label||e[20]!==O?(u=s.jsx("span",{className:O,children:i.label}),e[19]=i.label,e[20]=O,e[21]=u):u=e[21];let p;e[22]!==X||e[23]!==h||e[24]!==u?(p=s.jsxs("div",{className:X,children:[h,u]}),e[22]=X,e[23]=h,e[24]=u,e[25]=p):p=e[25];let g;e[26]!==f||e[27]!==p?(g=s.jsxs("div",{className:"flex items-start gap-4",children:[R,V,f,p]}),e[26]=f,e[27]=p,e[28]=g):g=e[28];let j;e[29]!==t.sender?(j=s.jsx(se,{user:t.sender,label:"Shared by"}),e[29]=t.sender,e[30]=j):j=e[30];let b;e[31]!==t.receiver?(b=s.jsx(se,{user:t.receiver,label:"Shared with"}),e[31]=t.receiver,e[32]=b):b=e[32];let N;e[33]!==j||e[34]!==b?(N=s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[j,b]}),e[33]=j,e[34]=b,e[35]=N):N=e[35];let v;e[36]!==t.message?(v=t.message&&s.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[s.jsxs("div",{className:"mb-3 flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(oe,{className:"h-4 w-4"}),"Message"]}),s.jsx("p",{className:"whitespace-pre-wrap",children:t.message})]}),e[36]=t.message,e[37]=v):v=e[37];let y;e[38]!==t.job?(y=t.job&&s.jsxs("div",{className:"rounded-xl border bg-card p-6",children:[s.jsx("h2",{className:"mb-4 text-lg font-semibold",children:"Shared Job"}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-xl bg-slate-100 text-xl font-bold text-slate-600 dark:bg-slate-800",children:t.job.company.substring(0,2).toUpperCase()}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold",children:t.job.position}),s.jsxs("div",{className:"mt-1 flex items-center gap-2 text-muted-foreground",children:[s.jsx(me,{className:"h-4 w-4"}),t.job.company]})]}),t.job.status&&s.jsx("span",{className:"rounded-full px-3 py-1 text-sm text-white",style:{backgroundColor:t.job.status.color},children:t.job.status.name})]}),s.jsxs("div",{className:"mt-6 grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[s.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Interest Level"}),s.jsx("div",{className:"mt-1",children:s.jsx(Se,{level:t.job.level_of_interest})})]}),s.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[s.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[s.jsx(xe,{className:"h-3 w-3"}),"Location"]}),s.jsx("p",{className:"mt-1 font-medium",children:t.job.location??"-"})]}),s.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[s.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[s.jsx(fe,{className:"h-3 w-3"}),"Salary"]}),s.jsx("p",{className:"mt-1 font-medium",children:ye(t.job.salary_min,t.job.salary_max)})]}),t.job.url&&s.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Job Posting"}),s.jsxs("a",{href:t.job.url,target:"_blank",rel:"noopener noreferrer",className:"mt-1 inline-flex items-center gap-1 text-sm text-primary hover:underline",children:[s.jsx(he,{className:"h-3 w-3"}),"View"]})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx(Y,{href:`/vocatio/jobs/${t.job.id}`,children:s.jsx(F,{variant:"outline",className:"w-full",children:"View Full Job Details"})})})]}),e[38]=t.job,e[39]=y):y=e[39];let E;e[40]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Z,{className:"h-4 w-4"}),"Shared at"]}),e[40]=E):E=e[40];let _;e[41]!==t.created_at?(_=ee(t.created_at),e[41]=t.created_at,e[42]=_):_=e[42];let S;e[43]!==_?(S=s.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[E,s.jsx("p",{className:"mt-2",children:_})]}),e[43]=_,e[44]=S):S=e[44];let P;e[45]===Symbol.for("react.memo_cache_sentinel")?(P=s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Z,{className:"h-4 w-4"}),"Last Updated"]}),e[45]=P):P=e[45];let w;e[46]!==t.updated_at?(w=ee(t.updated_at),e[46]=t.updated_at,e[47]=w):w=e[47];let k;e[48]!==w?(k=s.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[P,s.jsx("p",{className:"mt-2",children:w})]}),e[48]=w,e[49]=k):k=e[49];let $;e[50]!==S||e[51]!==k?($=s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[S,k]}),e[50]=S,e[51]=k,e[52]=$):$=e[52];let C;e[53]!==o||e[54]!==U||e[55]!==l?(C=o&&s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(F,{className:"flex-1 bg-emerald-600 hover:bg-emerald-700",disabled:l,onClick:()=>U("accepted"),children:[s.jsx(te,{className:"mr-2 h-4 w-4"}),l?"Processing...":"Accept"]}),s.jsxs(F,{variant:"outline",className:"flex-1 text-red-600 hover:text-red-700",disabled:l,onClick:()=>U("rejected"),children:[s.jsx(le,{className:"mr-2 h-4 w-4"}),l?"Processing...":"Decline"]})]}),e[53]=o,e[54]=U,e[55]=l,e[56]=C):C=e[56];let L;e[57]!==g||e[58]!==N||e[59]!==v||e[60]!==y||e[61]!==$||e[62]!==C?(L=s.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 overflow-x-auto p-4",children:[g,N,v,y,$,C]}),e[57]=g,e[58]=N,e[59]=v,e[60]=y,e[61]=$,e[62]=C,e[63]=L):L=e[63];let z;return e[64]!==q||e[65]!==L?(z=s.jsxs(de,{breadcrumbs:q,children:[I,L]}),e[64]=q,e[65]=L,e[66]=z):z=e[66],z}export{Pe as default};
