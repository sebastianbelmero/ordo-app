import{c as Ve,u as Ge,r as Me,j as t,a as He,H as Oe}from"./app-BCcZMIq_.js";import{a as qe}from"./app-layout-Cgg_NPO5.js";import{B as pe}from"./button-B7Wlbqhy.js";import{I as ge}from"./input-DXXSDsNC.js";import{L as P}from"./label-BlCnBUaX.js";import{a as Je,S as Ke,c as Pe,d as Qe,b as We}from"./select-Bmv4M3Ot.js";import{b as Xe,d as Ye,h as Ze,c as et,f as tt,e as st,g as lt,A as it,a as at}from"./alert-dialog-DfWuVz71.js";import{A as rt}from"./arrow-left-DM6457CL.js";import{T as nt}from"./trash-2-cIqDdKwl.js";import{S as dt}from"./save-CrtcsZmc.js";/* empty css            */import"./graduation-cap-CPVx1Rv5.js";import"./app-logo-icon-BzZkLVMi.js";import"./index-D3akX1qU.js";import"./check-B3_9lqVr.js";import"./index-Cg-G9xqa.js";function Ct(r){const e=Ve.c(140),{assignment:s,types:je}=r;let Q;e[0]!==je?.data?(Q=je?.data||[],e[0]=je?.data,e[1]=Q):Q=e[1];const be=Q;let W;e[2]===Symbol.for("react.memo_cache_sentinel")?(W={title:"Studium",href:"/studium"},e[2]=W):W=e[2];const ve=s.course?.name||"Course",ye=s.course?`/studium/courses/${s.course.id}`:"/studium";let d;e[3]!==ve||e[4]!==ye?(d={title:ve,href:ye},e[3]=ve,e[4]=ye,e[5]=d):d=e[5];const _e=`/studium/assignments/${s.id}`;let c;e[6]!==s.title||e[7]!==_e?(c={title:s.title,href:_e},e[6]=s.title,e[7]=_e,e[8]=c):c=e[8];let X;e[9]===Symbol.for("react.memo_cache_sentinel")?(X={title:"Edit",href:"#"},e[9]=X):X=e[9];let Y;e[10]!==d||e[11]!==c?(Y=[W,d,c,X],e[10]=d,e[11]=c,e[12]=Y):Y=e[12];const Se=Y,Be=ot;let o;e[13]!==s.type_id?(o=s.type_id?.toString()||"",e[13]=s.type_id,e[14]=o):o=e[14];const Re=s.title,Ne=s.deadline||"";let m;e[15]!==Ne?(m=Be(Ne),e[15]=Ne,e[16]=m):m=e[16];let f;e[17]!==s.grade?(f=s.grade?.toString()||"",e[17]=s.grade,e[18]=f):f=e[18];let Z;e[19]!==s.title||e[20]!==o||e[21]!==m||e[22]!==f?(Z={type_id:o,title:Re,deadline:m,grade:f},e[19]=s.title,e[20]=o,e[21]=m,e[22]=f,e[23]=Z):Z=e[23];const{data:i,setData:a,put:De,processing:Ae,errors:l}=Ge(Z),[ee,ze]=Me.useState(!1);let te;e[24]!==s.id||e[25]!==De?(te=n=>{n.preventDefault(),De(`/studium/assignments/${s.id}`)},e[24]=s.id,e[25]=De,e[26]=te):te=e[26];const Ce=te;let se;e[27]!==s.id?(se=()=>{ze(!0),He.delete(`/studium/assignments/${s.id}`,{onFinish:()=>ze(!1)})},e[27]=s.id,e[28]=se):se=e[28];const we=se,Te=`Edit Assignment - ${s.title}`;let u;e[29]!==Te?(u=t.jsx(Oe,{title:Te}),e[29]=Te,e[30]=u):u=e[30];let h;e[31]!==s.id?(h=()=>He.visit(`/studium/assignments/${s.id}`),e[31]=s.id,e[32]=h):h=e[32];let le;e[33]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx(rt,{className:"h-4 w-4"}),e[33]=le):le=e[33];let x;e[34]!==h?(x=t.jsx(pe,{variant:"ghost",size:"icon",onClick:h,children:le}),e[34]=h,e[35]=x):x=e[35];let ie;e[36]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Edit Assignment"}),t.jsx("p",{className:"text-muted-foreground",children:"Update assignment details"})]}),e[36]=ie):ie=e[36];let p;e[37]!==x?(p=t.jsxs("div",{className:"flex items-center gap-4",children:[x,ie]}),e[37]=x,e[38]=p):p=e[38];let ae;e[39]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsx(Ze,{asChild:!0,children:t.jsxs(pe,{variant:"destructive",size:"sm",children:[t.jsx(nt,{className:"mr-2 h-4 w-4"}),"Delete"]})}),e[39]=ae):ae=e[39];let re;e[40]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsx(et,{children:"Delete Assignment?"}),e[40]=re):re=e[40];let g;e[41]!==s.title?(g=t.jsxs(Xe,{children:[re,t.jsxs(Ye,{children:['This will permanently delete "',s.title,'". This action cannot be undone.']})]}),e[41]=s.title,e[42]=g):g=e[42];let ne;e[43]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsx(tt,{children:"Cancel"}),e[43]=ne):ne=e[43];const $e=ee?"Deleting...":"Delete";let j;e[44]!==we||e[45]!==ee||e[46]!==$e?(j=t.jsxs(st,{children:[ne,t.jsx(lt,{onClick:we,disabled:ee,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:$e})]}),e[44]=we,e[45]=ee,e[46]=$e,e[47]=j):j=e[47];let b;e[48]!==g||e[49]!==j?(b=t.jsxs(it,{children:[ae,t.jsxs(at,{children:[g,j]})]}),e[48]=g,e[49]=j,e[50]=b):b=e[50];let v;e[51]!==p||e[52]!==b?(v=t.jsxs("div",{className:"flex items-center justify-between",children:[p,b]}),e[51]=p,e[52]=b,e[53]=v):v=e[53];let de;e[54]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsx(P,{children:"Course"}),e[54]=de):de=e[54];const Ee=s.course?`${s.course.code} - ${s.course.name}`:"Unknown Course";let y;e[55]!==Ee?(y=t.jsxs("div",{className:"space-y-2",children:[de,t.jsx(ge,{value:Ee,disabled:!0,className:"bg-muted"})]}),e[55]=Ee,e[56]=y):y=e[56];let ce;e[57]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx(P,{children:"Assignment Type"}),e[57]=ce):ce=e[57];const Ue=i.type_id;let _;e[58]!==a?(_=n=>a("type_id",n),e[58]=a,e[59]=_):_=e[59];const ke=l.type_id?"border-destructive":"";let oe;e[60]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsx(Je,{placeholder:"Select a type"}),e[60]=oe):oe=e[60];let S;e[61]!==ke?(S=t.jsx(Ke,{className:ke,children:oe}),e[61]=ke,e[62]=S):S=e[62];let N;e[63]!==be?(N=be.map(ct),e[63]=be,e[64]=N):N=e[64];let D;e[65]!==N?(D=t.jsx(Pe,{children:N}),e[65]=N,e[66]=D):D=e[66];let A;e[67]!==i.type_id||e[68]!==_||e[69]!==S||e[70]!==D?(A=t.jsxs(Qe,{value:Ue,onValueChange:_,children:[S,D]}),e[67]=i.type_id,e[68]=_,e[69]=S,e[70]=D,e[71]=A):A=e[71];let C;e[72]!==l.type_id?(C=l.type_id&&t.jsx("p",{className:"text-sm text-destructive",children:l.type_id}),e[72]=l.type_id,e[73]=C):C=e[73];let w;e[74]!==A||e[75]!==C?(w=t.jsxs("div",{className:"space-y-2",children:[ce,A,C]}),e[74]=A,e[75]=C,e[76]=w):w=e[76];let T;e[77]!==y||e[78]!==w?(T=t.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[y,w]}),e[77]=y,e[78]=w,e[79]=T):T=e[79];let me;e[80]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsx(P,{htmlFor:"title",children:"Title"}),e[80]=me):me=e[80];let $;e[81]!==a?($=n=>a("title",n.target.value),e[81]=a,e[82]=$):$=e[82];const Fe=l.title?"border-destructive":"";let E;e[83]!==i.title||e[84]!==$||e[85]!==Fe?(E=t.jsx(ge,{id:"title",type:"text",value:i.title,onChange:$,placeholder:"e.g., Midterm Exam, Assignment 1",className:Fe}),e[83]=i.title,e[84]=$,e[85]=Fe,e[86]=E):E=e[86];let k;e[87]!==l.title?(k=l.title&&t.jsx("p",{className:"text-sm text-destructive",children:l.title}),e[87]=l.title,e[88]=k):k=e[88];let F;e[89]!==E||e[90]!==k?(F=t.jsxs("div",{className:"mt-6 space-y-2",children:[me,E,k]}),e[89]=E,e[90]=k,e[91]=F):F=e[91];let fe;e[92]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsx(P,{htmlFor:"deadline",children:"Deadline"}),e[92]=fe):fe=e[92];let L;e[93]!==a?(L=n=>a("deadline",n.target.value),e[93]=a,e[94]=L):L=e[94];const Le=l.deadline?"border-destructive":"";let I;e[95]!==i.deadline||e[96]!==L||e[97]!==Le?(I=t.jsx(ge,{id:"deadline",type:"datetime-local",value:i.deadline,onChange:L,className:Le}),e[95]=i.deadline,e[96]=L,e[97]=Le,e[98]=I):I=e[98];let H;e[99]!==l.deadline?(H=l.deadline&&t.jsx("p",{className:"text-sm text-destructive",children:l.deadline}),e[99]=l.deadline,e[100]=H):H=e[100];let z;e[101]!==I||e[102]!==H?(z=t.jsxs("div",{className:"mt-6 space-y-2",children:[fe,I,H]}),e[101]=I,e[102]=H,e[103]=z):z=e[103];let ue;e[104]===Symbol.for("react.memo_cache_sentinel")?(ue=t.jsx(P,{htmlFor:"grade",children:"Grade (0-100)"}),e[104]=ue):ue=e[104];let B;e[105]!==a?(B=n=>a("grade",n.target.value),e[105]=a,e[106]=B):B=e[106];const Ie=l.grade?"border-destructive":"";let R;e[107]!==i.grade||e[108]!==B||e[109]!==Ie?(R=t.jsx(ge,{id:"grade",type:"number",min:"0",max:"100",step:"0.01",value:i.grade,onChange:B,placeholder:"Leave empty if not graded yet",className:Ie}),e[107]=i.grade,e[108]=B,e[109]=Ie,e[110]=R):R=e[110];let U;e[111]!==l.grade?(U=l.grade&&t.jsx("p",{className:"text-sm text-destructive",children:l.grade}),e[111]=l.grade,e[112]=U):U=e[112];let V;e[113]!==R||e[114]!==U?(V=t.jsxs("div",{className:"mt-6 space-y-2",children:[ue,R,U]}),e[113]=R,e[114]=U,e[115]=V):V=e[115];let G;e[116]!==T||e[117]!==F||e[118]!==z||e[119]!==V?(G=t.jsxs("div",{className:"rounded-xl border border-sidebar-border/70 bg-card p-6 dark:border-sidebar-border",children:[T,F,z,V]}),e[116]=T,e[117]=F,e[118]=z,e[119]=V,e[120]=G):G=e[120];let M;e[121]!==s.id?(M=t.jsx(pe,{type:"button",variant:"outline",onClick:()=>He.visit(`/studium/assignments/${s.id}`),children:"Cancel"}),e[121]=s.id,e[122]=M):M=e[122];let he;e[123]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsx(dt,{className:"mr-2 h-4 w-4"}),e[123]=he):he=e[123];let O;e[124]!==Ae?(O=t.jsxs(pe,{type:"submit",disabled:Ae,children:[he,"Save Changes"]}),e[124]=Ae,e[125]=O):O=e[125];let q;e[126]!==M||e[127]!==O?(q=t.jsxs("div",{className:"flex justify-end gap-3",children:[M,O]}),e[126]=M,e[127]=O,e[128]=q):q=e[128];let J;e[129]!==Ce||e[130]!==G||e[131]!==q?(J=t.jsx("div",{className:"mx-auto w-full max-w-2xl",children:t.jsxs("form",{onSubmit:Ce,className:"space-y-6",children:[G,q]})}),e[129]=Ce,e[130]=G,e[131]=q,e[132]=J):J=e[132];let K;e[133]!==v||e[134]!==J?(K=t.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 overflow-x-auto p-4",children:[v,J]}),e[133]=v,e[134]=J,e[135]=K):K=e[135];let xe;return e[136]!==Se||e[137]!==u||e[138]!==K?(xe=t.jsxs(qe,{breadcrumbs:Se,children:[u,K]}),e[136]=Se,e[137]=u,e[138]=K,e[139]=xe):xe=e[139],xe}function ct(r){return t.jsx(We,{value:r.id.toString(),children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"h-2 w-2 rounded-full",style:{backgroundColor:r.color}}),r.name]})},r.id)}function ot(r){return r?new Date(r).toISOString().slice(0,16):""}export{Ct as default};
