import{c as re,r as we,j as t,a as De,H as Le,L as z}from"./app-BZn2Y_Rz.js";import{a as Oe,b as he,D as Be,c as Me,d as Ae}from"./app-layout-Bs9Ih2Sn.js";import{B as oe}from"./button-VzMRwoWK.js";import{u as ze,a as Ce,s as Ke,D as Pe,b as Re,c as Ve,K as Fe,P as Ge,d as He,S as Te,v as Ue,e as We,C as qe}from"./sortable.esm-d_NuSz0h.js";import{S as Ie}from"./star-CxiMod6J.js";import{A as Qe}from"./arrow-left-BTeP98uM.js";import{B as Xe}from"./graduation-cap-Bl6zL9C8.js";import{L as Ye}from"./list-Df6ea85a.js";import{P as pe}from"./plus-B28l39LU.js";import{G as Ee}from"./grip-vertical-N_fi1RjQ.js";import{M as Ze}from"./map-pin-C2M4iQO_.js";import{D as et}from"./dollar-sign-BZnjoG7V.js";import{E as tt}from"./external-link-B8IKtLAa.js";import{B as st}from"./building-2-DEIJke4W.js";import{E as lt}from"./ellipsis-CG09rLYS.js";/* empty css            */import"./app-logo-icon-GpKUnOHy.js";function it(c,e){if(!c&&!e)return"";const s=l=>l>=1e6?`${(l/1e6).toFixed(1)}M`:l>=1e3?`${(l/1e3).toFixed(0)}K`:l.toString();return c&&e?`${s(c)} - ${s(e)}`:c?`${s(c)}+`:`Up to ${s(e)}`}function rt(c){const e=re.c(3),{level:s}=c;let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=[1,2,3,4,5],e[0]=l):l=e[0];let i;return e[1]!==s?(i=t.jsx("div",{className:"flex",children:l.map(d=>t.jsx(Ie,{className:`h-3 w-3 ${d<=s?"fill-amber-400 text-amber-400":"text-muted-foreground/30"}`},d))}),e[1]=s,e[2]=i):i=e[2],i}function Je(c){const e=re.c(22),{job:s}=c;let l;e[0]!==s.position?(l=t.jsx("p",{className:"truncate text-sm font-medium",children:s.position}),e[0]=s.position,e[1]=l):l=e[1];let i;e[2]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsx(st,{className:"h-3 w-3 flex-shrink-0"}),e[2]=i):i=e[2];let d;e[3]!==s.company?(d=t.jsxs("p",{className:"flex items-center gap-1 truncate text-xs text-muted-foreground",children:[i,s.company]}),e[3]=s.company,e[4]=d):d=e[4];let o;e[5]!==l||e[6]!==d?(o=t.jsxs("div",{className:"min-w-0",children:[l,d]}),e[5]=l,e[6]=d,e[7]=o):o=e[7];let x;e[8]!==s.level_of_interest?(x=t.jsx(rt,{level:s.level_of_interest}),e[8]=s.level_of_interest,e[9]=x):x=e[9];let f;e[10]!==s.location?(f=s.location&&t.jsxs("span",{className:"flex items-center gap-1 text-[10px] text-muted-foreground",children:[t.jsx(Ze,{className:"h-3 w-3"}),s.location.split(",")[0]]}),e[10]=s.location,e[11]=f):f=e[11];let h;e[12]!==x||e[13]!==f?(h=t.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-x-3 gap-y-1",children:[x,f]}),e[12]=x,e[13]=f,e[14]=h):h=e[14];let a;e[15]!==s.salary_max||e[16]!==s.salary_min?(a=(s.salary_min||s.salary_max)&&t.jsxs("div",{className:"mt-2 flex items-center gap-1 text-[10px] text-muted-foreground",children:[t.jsx(et,{className:"h-3 w-3"}),it(s.salary_min,s.salary_max)]}),e[15]=s.salary_max,e[16]=s.salary_min,e[17]=a):a=e[17];let m;return e[18]!==o||e[19]!==h||e[20]!==a?(m=t.jsxs(t.Fragment,{children:[o,h,a]}),e[18]=o,e[19]=h,e[20]=a,e[21]=m):m=e[21],m}function ot(c){const e=re.c(39),{job:s}=c;let l;e[0]!==s.id?(l={id:s.id},e[0]=s.id,e[1]=l):l=e[1];const{attributes:i,listeners:d,setNodeRef:o,transform:x,transition:f,isDragging:h}=We(l);let a;e[2]!==x?(a=qe.Transform.toString(x),e[2]=x,e[3]=a):a=e[3];const m=h?.5:1;let r;e[4]!==a||e[5]!==m||e[6]!==f?(r={transform:a,transition:f,opacity:m},e[4]=a,e[5]=m,e[6]=f,e[7]=r):r=e[7];const D=r,I=`group rounded-lg border bg-card p-3 shadow-sm transition-all hover:shadow-md ${h?"ring-2 ring-primary":""}`;let E;e[8]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsx(Ee,{className:"h-4 w-4 text-muted-foreground/50 opacity-0 group-hover:opacity-100"}),e[8]=E):E=e[8];let p;e[9]!==i||e[10]!==d?(p=t.jsx("div",{...i,...d,className:"mt-0.5 cursor-grab touch-none active:cursor-grabbing",children:E}),e[9]=i,e[10]=d,e[11]=p):p=e[11];let j;e[12]!==s?(j=t.jsx(Je,{job:s}),e[12]=s,e[13]=j):j=e[13];let _;e[14]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsx(Be,{asChild:!0,children:t.jsx(oe,{variant:"ghost",size:"icon",className:"h-6 w-6 flex-shrink-0 opacity-0 group-hover:opacity-100",children:t.jsx(lt,{className:"h-3 w-3"})})}),e[14]=_):_=e[14];const J=`/vocatio/jobs/${s.id}`;let k;e[15]!==J?(k=t.jsx(he,{asChild:!0,children:t.jsx(z,{href:J,children:"View Details"})}),e[15]=J,e[16]=k):k=e[16];const y=`/vocatio/jobs/${s.id}/edit`;let n;e[17]!==y?(n=t.jsx(he,{asChild:!0,children:t.jsx(z,{href:y,children:"Edit"})}),e[17]=y,e[18]=n):n=e[18];let b;e[19]!==s.url?(b=s.url&&t.jsx(he,{asChild:!0,children:t.jsxs("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",children:[t.jsx(tt,{className:"mr-2 h-3 w-3"}),"Open Job URL"]})}),e[19]=s.url,e[20]=b):b=e[20];let u;e[21]!==s.id?(u=t.jsx(he,{className:"text-destructive",onClick:()=>{confirm("Are you sure you want to delete this job?")&&De.delete(`/vocatio/jobs/${s.id}`)},children:"Delete"}),e[21]=s.id,e[22]=u):u=e[22];let w;e[23]!==k||e[24]!==n||e[25]!==b||e[26]!==u?(w=t.jsxs(Me,{children:[_,t.jsxs(Ae,{align:"end",children:[k,n,b,u]})]}),e[23]=k,e[24]=n,e[25]=b,e[26]=u,e[27]=w):w=e[27];let S;e[28]!==w||e[29]!==j?(S=t.jsx("div",{className:"min-w-0 flex-1",children:t.jsxs("div",{className:"flex items-start justify-between",children:[j,w]})}),e[28]=w,e[29]=j,e[30]=S):S=e[30];let g;e[31]!==S||e[32]!==p?(g=t.jsxs("div",{className:"flex items-start gap-2",children:[p,S]}),e[31]=S,e[32]=p,e[33]=g):g=e[33];let $;return e[34]!==o||e[35]!==D||e[36]!==g||e[37]!==I?($=t.jsx("div",{ref:o,style:D,className:I,children:g}),e[34]=o,e[35]=D,e[36]=g,e[37]=I,e[38]=$):$=e[38],$}function at(c){const e=re.c(3),{job:s}=c;let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=t.jsx(Ee,{className:"mt-0.5 h-4 w-4 text-muted-foreground/50"}),e[0]=l):l=e[0];let i;return e[1]!==s?(i=t.jsx("div",{className:"w-72 rounded-lg border bg-card p-3 shadow-lg ring-2 ring-primary",children:t.jsxs("div",{className:"flex items-start gap-2",children:[l,t.jsx("div",{className:"min-w-0 flex-1",children:t.jsx(Je,{job:s})})]})}),e[1]=s,e[2]=i):i=e[2],i}function nt(c){const e=re.c(47),{status:s,jobs:l,pipelineId:i}=c,d=`column-${s.id}`;let o;e[0]!==s.id?(o={type:"column",statusId:s.id},e[0]=s.id,e[1]=o):o=e[1];let x;e[2]!==d||e[3]!==o?(x={id:d,data:o},e[2]=d,e[3]=o,e[4]=x):x=e[4];const{setNodeRef:f,isOver:h}=He(x);let a;e[5]!==s.color?(a=t.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:s.color}}),e[5]=s.color,e[6]=a):a=e[6];let m;e[7]!==s.name?(m=t.jsx("h3",{className:"font-semibold",children:s.name}),e[7]=s.name,e[8]=m):m=e[8];let r;e[9]!==l.length?(r=t.jsx("span",{className:"rounded-full bg-muted px-2 py-0.5 text-xs text-muted-foreground",children:l.length}),e[9]=l.length,e[10]=r):r=e[10];let D;e[11]!==a||e[12]!==m||e[13]!==r?(D=t.jsxs("div",{className:"flex items-center gap-2",children:[a,m,r]}),e[11]=a,e[12]=m,e[13]=r,e[14]=D):D=e[14];const I=`/vocatio/pipelines/${i}/jobs/create`;let E;e[15]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsx(oe,{variant:"ghost",size:"icon",className:"h-7 w-7",children:t.jsx(pe,{className:"h-4 w-4"})}),e[15]=E):E=e[15];let p;e[16]!==I?(p=t.jsx(z,{href:I,children:E}),e[16]=I,e[17]=p):p=e[17];let j;e[18]!==p||e[19]!==D?(j=t.jsxs("div",{className:"flex items-center justify-between p-3 pb-2",children:[D,p]}),e[18]=p,e[19]=D,e[20]=j):j=e[20];let _;e[21]!==l?(_=l.map(ct),e[21]=l,e[22]=_):_=e[22];const J=`flex-1 space-y-2 overflow-y-auto p-3 pt-1 transition-colors ${h?"bg-primary/10":""}`,k=s.id;let y;if(e[23]!==l||e[24]!==i){let M;e[26]!==i?(M=P=>t.jsx(ot,{job:P,pipelineId:i},P.id),e[26]=i,e[27]=M):M=e[27],y=l.map(M),e[23]=l,e[24]=i,e[25]=y}else y=e[25];let n;e[28]!==h||e[29]!==l.length?(n=l.length===0&&t.jsx("div",{className:`flex h-32 items-center justify-center rounded-lg border-2 border-dashed text-sm text-muted-foreground transition-colors ${h?"border-primary bg-primary/5":"border-muted-foreground/20"}`,children:"Drop jobs here"}),e[28]=h,e[29]=l.length,e[30]=n):n=e[30];let b;e[31]!==f||e[32]!==s.id||e[33]!==J||e[34]!==y||e[35]!==n?(b=t.jsxs("div",{ref:f,className:J,"data-status-id":k,children:[y,n]}),e[31]=f,e[32]=s.id,e[33]=J,e[34]=y,e[35]=n,e[36]=b):b=e[36];let u;e[37]!==_||e[38]!==b?(u=t.jsx(Te,{items:_,strategy:Ue,children:b}),e[37]=_,e[38]=b,e[39]=u):u=e[39];const w=`/vocatio/pipelines/${i}/jobs/create`;let S;e[40]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsxs("button",{className:"w-full rounded-lg border-2 border-dashed border-muted-foreground/20 p-3 text-sm text-muted-foreground transition-colors hover:border-muted-foreground/40 hover:bg-muted/50",children:[t.jsx(pe,{className:"mr-1 inline h-4 w-4"}),"Add job"]}),e[40]=S):S=e[40];let g;e[41]!==w?(g=t.jsx("div",{className:"p-3 pt-1",children:t.jsx(z,{href:w,children:S})}),e[41]=w,e[42]=g):g=e[42];let $;return e[43]!==j||e[44]!==u||e[45]!==g?($=t.jsxs("div",{className:"flex h-full w-72 flex-shrink-0 flex-col rounded-xl bg-muted/30",children:[j,u,g]}),e[43]=j,e[44]=u,e[45]=g,e[46]=$):$=e[46],$}function ct(c){return c.id}function Dt(c){const e=re.c(91),{pipeline:s,board:l}=c;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i={title:"Vocatio",href:"/vocatio/pipelines"},e[0]=i):i=e[0];const d=`/vocatio/pipelines/${s.id}`;let o;e[1]!==s.name||e[2]!==d?(o={title:s.name,href:d},e[1]=s.name,e[2]=d,e[3]=o):o=e[3];const x=`/vocatio/pipelines/${s.id}/board`;let f;e[4]!==x?(f={title:"Board",href:x},e[4]=x,e[5]=f):f=e[5];let h;e[6]!==o||e[7]!==f?(h=[i,o,f],e[6]=o,e[7]=f,e[8]=h):h=e[8];const a=h;let m;e[9]!==l.data?(m=()=>{const N={};return l.data.forEach(v=>{N[v.id]=(v.jobs??[]).map(C=>({...C,status_id:v.id}))}),N},e[9]=l.data,e[10]=m):m=e[10];const[r,D]=we.useState(m),[I,E]=we.useState(null),[p,j]=we.useState(null);let _;e[11]===Symbol.for("react.memo_cache_sentinel")?(_={activationConstraint:{distance:8}},e[11]=_):_=e[11];let J;e[12]===Symbol.for("react.memo_cache_sentinel")?(J={coordinateGetter:Ke},e[12]=J):J=e[12];const k=ze(Ce(Ge,_),Ce(Fe,J));let y;e[13]!==r?(y=N=>{for(const[v,C]of Object.entries(r))if(C.some(L=>L.id===N))return parseInt(v);return null},e[13]=r,e[14]=y):y=e[14];const n=y;let b;e[15]!==r?(b=N=>{for(const v of Object.values(r)){const C=v.find(L=>L.id===N);if(C)return C}return null},e[15]=r,e[16]=b):b=e[16];const u=b;let w;e[17]!==n||e[18]!==u?(w=N=>{const{active:v}=N,C=u(v.id),L=n(v.id);E(C),j(L)},e[17]=n,e[18]=u,e[19]=w):w=e[19];const S=w;let g;e[20]!==r||e[21]!==n?(g=N=>{const{active:v,over:C}=N;if(!C)return;const L=v.id,K=C.id,A=n(L);let B=n(K);if(!B&&K.startsWith("column-")){const O=parseInt(K.replace("column-",""));!isNaN(O)&&r[O]!==void 0&&(B=O)}if(!B){const O=parseInt(K);!isNaN(O)&&r[O]&&(B=O)}!A||!B||A===B||D(O=>{const _e=[...O[A]],xe=[...O[B]],ke=_e.findIndex(ye=>ye.id===L),[Se]=_e.splice(ke,1),$e=xe.findIndex(ye=>ye.id===K);return $e>=0?xe.splice($e,0,{...Se,status_id:B}):xe.push({...Se,status_id:B}),{...O,[A]:_e,[B]:xe}})},e[20]=r,e[21]=n,e[22]=g):g=e[22];const $=g;let M;e[23]!==n||e[24]!==u||e[25]!==p?(M=N=>{const{active:v,over:C}=N;if(E(null),!C){j(null);return}const L=v.id,K=u(L),A=n(L);if(!K||!A){j(null);return}p!==null&&p!==A&&De.patch(`/vocatio/jobs/${L}/status`,{status_id:A},{preserveScroll:!0,preserveState:!1}),j(null)},e[23]=n,e[24]=u,e[25]=p,e[26]=M):M=e[26];const P=M;let ae;e[27]!==r?(ae=Object.values(r).reduce(dt,0),e[27]=r,e[28]=ae):ae=e[28];const je=ae,be=`Board - ${s.name}`;let R;e[29]!==be?(R=t.jsx(Le,{title:be}),e[29]=be,e[30]=R):R=e[30];const ge=`/vocatio/pipelines/${s.id}`;let ne;e[31]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsx(oe,{variant:"ghost",size:"icon",children:t.jsx(Qe,{className:"h-5 w-5"})}),e[31]=ne):ne=e[31];let V;e[32]!==ge?(V=t.jsx(z,{href:ge,children:ne}),e[32]=ge,e[33]=V):V=e[33];let ce;e[34]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-emerald-100 dark:bg-emerald-900/30",children:t.jsx(Xe,{className:"h-5 w-5 text-emerald-600"})}),e[34]=ce):ce=e[34];let F;e[35]!==s.name?(F=t.jsx("h1",{className:"text-xl font-bold",children:s.name}),e[35]=s.name,e[36]=F):F=e[36];let G;e[37]!==s.is_default?(G=s.is_default&&t.jsx(Ie,{className:"h-4 w-4 fill-amber-400 text-amber-400"}),e[37]=s.is_default,e[38]=G):G=e[38];let H;e[39]!==F||e[40]!==G?(H=t.jsxs("div",{className:"flex items-center gap-2",children:[F,G]}),e[39]=F,e[40]=G,e[41]=H):H=e[41];let T;e[42]!==l.data.length||e[43]!==je?(T=t.jsxs("p",{className:"text-sm text-muted-foreground",children:[je," jobs across ",l.data.length," stages"]}),e[42]=l.data.length,e[43]=je,e[44]=T):T=e[44];let U;e[45]!==H||e[46]!==T?(U=t.jsxs("div",{children:[H,T]}),e[45]=H,e[46]=T,e[47]=U):U=e[47];let W;e[48]!==V||e[49]!==U?(W=t.jsxs("div",{className:"flex items-center gap-4",children:[V,ce,U]}),e[48]=V,e[49]=U,e[50]=W):W=e[50];const ve=`/vocatio/pipelines/${s.id}`;let de;e[51]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsxs(oe,{variant:"outline",size:"sm",children:[t.jsx(Ye,{className:"mr-2 h-4 w-4"}),"List View"]}),e[51]=de):de=e[51];let q;e[52]!==ve?(q=t.jsx(z,{href:ve,children:de}),e[52]=ve,e[53]=q):q=e[53];const Ne=`/vocatio/pipelines/${s.id}/jobs/create`;let fe;e[54]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsxs(oe,{size:"sm",children:[t.jsx(pe,{className:"mr-2 h-4 w-4"}),"Add Job"]}),e[54]=fe):fe=e[54];let Q;e[55]!==Ne?(Q=t.jsx(z,{href:Ne,children:fe}),e[55]=Ne,e[56]=Q):Q=e[56];let X;e[57]!==q||e[58]!==Q?(X=t.jsxs("div",{className:"flex gap-2",children:[q,Q]}),e[57]=q,e[58]=Q,e[59]=X):X=e[59];let Y;e[60]!==W||e[61]!==X?(Y=t.jsxs("div",{className:"flex items-center justify-between border-b px-4 py-3",children:[W,X]}),e[60]=W,e[61]=X,e[62]=Y):Y=e[62];let Z;if(e[63]!==l.data||e[64]!==r||e[65]!==s.id){let N;e[67]!==r||e[68]!==s.id?(N=v=>t.jsx(nt,{status:v,jobs:r[v.id]||[],pipelineId:s.id},v.id),e[67]=r,e[68]=s.id,e[69]=N):N=e[69],Z=l.data.map(N),e[63]=l.data,e[64]=r,e[65]=s.id,e[66]=Z}else Z=e[66];let me;e[70]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsx("div",{className:"flex h-full w-72 flex-shrink-0 items-start",children:t.jsx(z,{href:"/settings/vocatio",className:"w-full",children:t.jsxs("button",{className:"w-full rounded-xl border-2 border-dashed border-muted-foreground/20 p-4 text-sm text-muted-foreground transition-colors hover:border-muted-foreground/40 hover:bg-muted/30",children:[t.jsx(pe,{className:"mr-1 inline h-4 w-4"}),"Manage Stages"]})})}),e[70]=me):me=e[70];let ee;e[71]!==Z?(ee=t.jsx("div",{className:"flex-1 overflow-x-auto p-4",children:t.jsxs("div",{className:"flex h-full gap-4",children:[Z,me]})}),e[71]=Z,e[72]=ee):ee=e[72];let te;e[73]!==I?(te=I?t.jsx(at,{job:I}):null,e[73]=I,e[74]=te):te=e[74];let se;e[75]!==te?(se=t.jsx(Pe,{children:te}),e[75]=te,e[76]=se):se=e[76];let le;e[77]!==P||e[78]!==$||e[79]!==S||e[80]!==k||e[81]!==ee||e[82]!==se?(le=t.jsxs(Re,{sensors:k,collisionDetection:Ve,onDragStart:S,onDragOver:$,onDragEnd:P,children:[ee,se]}),e[77]=P,e[78]=$,e[79]=S,e[80]=k,e[81]=ee,e[82]=se,e[83]=le):le=e[83];let ie;e[84]!==Y||e[85]!==le?(ie=t.jsxs("div",{className:"flex h-full flex-col",children:[Y,le]}),e[84]=Y,e[85]=le,e[86]=ie):ie=e[86];let ue;return e[87]!==a||e[88]!==R||e[89]!==ie?(ue=t.jsxs(Oe,{breadcrumbs:a,children:[R,ie]}),e[87]=a,e[88]=R,e[89]=ie,e[90]=ue):ue=e[90],ue}function dt(c,e){return c+e.length}export{Dt as default};
