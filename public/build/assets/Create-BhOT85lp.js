import{c as Ae,j as t,u as De,H as Fe,a as be}from"./app-xIZYWCDp.js";import{a as Ie}from"./app-layout-DLajnjpJ.js";import{B as ve}from"./button-BXPk2AfM.js";import{I as ge}from"./input-_hq09xyC.js";import{L as K}from"./label-Cib26Nd2.js";import{T as Le}from"./textarea-snuizA1u.js";import{S as ye,a as Ne,c as Se,d as ke,b as Ce}from"./select-BHIDx2Jm.js";import{A as Oe}from"./arrow-left-DFC2_F2f.js";import{S as Ve}from"./save-BmOv0eIT.js";/* empty css            */import"./createLucideIcon-B3LiBfZd.js";import"./app-logo-icon-BTFLlc0O.js";import"./graduation-cap-BPGM7Ll1.js";import"./index-DfT14WRw.js";import"./check-DQXP3I2T.js";function st(l){const e=Ae.c(122),{project:s,statusConfig:c}=l;let M;e[0]===Symbol.for("react.memo_cache_sentinel")?(M={title:"Opus",href:"/opus/workspaces"},e[0]=M):M=e[0];const ne=`/opus/projects/${s.id}`;let d;e[1]!==s.name||e[2]!==ne?(d={title:s.name,href:ne},e[1]=s.name,e[2]=ne,e[3]=d):d=e[3];let Q;e[4]===Symbol.for("react.memo_cache_sentinel")?(Q={title:"New Task",href:"#"},e[4]=Q):Q=e[4];let U;e[5]!==d?(U=[M,d,Q],e[5]=d,e[6]=U):U=e[6];const me=U;let W,n,m,f,u;if(e[7]!==c.task_priorities||e[8]!==c.task_statuses){const o=c.task_statuses.find(Pe),$e=c.task_priorities.find(He);W=De,n="",m="",f=o?.id?.toString()||"",u=$e?.id?.toString()||"",e[7]=c.task_priorities,e[8]=c.task_statuses,e[9]=W,e[10]=n,e[11]=m,e[12]=f,e[13]=u}else W=e[9],n=e[10],m=e[11],f=e[12],u=e[13];let X;e[14]!==n||e[15]!==m||e[16]!==f||e[17]!==u?(X={title:n,description:m,status_id:f,priority_id:u,due_date:""},e[14]=n,e[15]=m,e[16]=f,e[17]=u,e[18]=X):X=e[18];const{data:i,setData:a,post:fe,processing:ue,errors:r}=W(X);let Y;e[19]!==fe||e[20]!==s.id?(Y=o=>{o.preventDefault(),fe(`/opus/projects/${s.id}/tasks`)},e[19]=fe,e[20]=s.id,e[21]=Y):Y=e[21];const pe=Y,xe=`New Task - ${s.name}`;let p;e[22]!==xe?(p=t.jsx(Fe,{title:xe}),e[22]=xe,e[23]=p):p=e[23];let x;e[24]!==s.id?(x=()=>be.visit(`/opus/projects/${s.id}`),e[24]=s.id,e[25]=x):x=e[25];let Z;e[26]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx(Oe,{className:"h-4 w-4"}),e[26]=Z):Z=e[26];let h;e[27]!==x?(h=t.jsx(ve,{variant:"ghost",size:"icon",onClick:x,children:Z}),e[27]=x,e[28]=h):h=e[28];let ee;e[29]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx("h1",{className:"text-2xl font-bold",children:"New Task"}),e[29]=ee):ee=e[29];let _;e[30]!==s.name?(_=t.jsxs("div",{children:[ee,t.jsxs("p",{className:"text-muted-foreground",children:["Add a task to ",s.name]})]}),e[30]=s.name,e[31]=_):_=e[31];let j;e[32]!==h||e[33]!==_?(j=t.jsxs("div",{className:"flex items-center gap-4",children:[h,_]}),e[32]=h,e[33]=_,e[34]=j):j=e[34];let te;e[35]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx(K,{htmlFor:"title",children:"Task Title"}),e[35]=te):te=e[35];let v;e[36]!==a?(v=o=>a("title",o.target.value),e[36]=a,e[37]=v):v=e[37];const he=r.title?"border-destructive":"";let b;e[38]!==i.title||e[39]!==v||e[40]!==he?(b=t.jsx(ge,{id:"title",type:"text",value:i.title,onChange:v,placeholder:"e.g., Implement user authentication",className:he,autoFocus:!0}),e[38]=i.title,e[39]=v,e[40]=he,e[41]=b):b=e[41];let g;e[42]!==r.title?(g=r.title&&t.jsx("p",{className:"text-sm text-destructive",children:r.title}),e[42]=r.title,e[43]=g):g=e[43];let y;e[44]!==b||e[45]!==g?(y=t.jsxs("div",{className:"space-y-2",children:[te,b,g]}),e[44]=b,e[45]=g,e[46]=y):y=e[46];let se;e[47]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsx(K,{htmlFor:"description",children:"Description (Optional)"}),e[47]=se):se=e[47];let N;e[48]!==a?(N=o=>a("description",o.target.value),e[48]=a,e[49]=N):N=e[49];const _e=r.description?"border-destructive":"";let S;e[50]!==i.description||e[51]!==N||e[52]!==_e?(S=t.jsx(Le,{id:"description",value:i.description,onChange:N,placeholder:"Add more details about this task...",rows:4,className:_e}),e[50]=i.description,e[51]=N,e[52]=_e,e[53]=S):S=e[53];let k;e[54]!==r.description?(k=r.description&&t.jsx("p",{className:"text-sm text-destructive",children:r.description}),e[54]=r.description,e[55]=k):k=e[55];let C;e[56]!==S||e[57]!==k?(C=t.jsxs("div",{className:"mt-6 space-y-2",children:[se,S,k]}),e[56]=S,e[57]=k,e[58]=C):C=e[58];let le;e[59]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx(K,{children:"Status"}),e[59]=le):le=e[59];const we=i.status_id;let w;e[60]!==a?(w=o=>a("status_id",o),e[60]=a,e[61]=w):w=e[61];let ie;e[62]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx(ye,{children:t.jsx(Ne,{placeholder:"Select status"})}),e[62]=ie):ie=e[62];let T;e[63]!==c.task_statuses?(T=c.task_statuses.map(Ee),e[63]=c.task_statuses,e[64]=T):T=e[64];let $;e[65]!==T?($=t.jsx(Se,{children:T}),e[65]=T,e[66]=$):$=e[66];let A;e[67]!==i.status_id||e[68]!==w||e[69]!==$?(A=t.jsxs("div",{className:"space-y-2",children:[le,t.jsxs(ke,{value:we,onValueChange:w,children:[ie,$]})]}),e[67]=i.status_id,e[68]=w,e[69]=$,e[70]=A):A=e[70];let ae;e[71]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsx(K,{children:"Priority"}),e[71]=ae):ae=e[71];const Te=i.priority_id;let D;e[72]!==a?(D=o=>a("priority_id",o),e[72]=a,e[73]=D):D=e[73];let re;e[74]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsx(ye,{children:t.jsx(Ne,{placeholder:"Select priority"})}),e[74]=re):re=e[74];let F;e[75]!==c.task_priorities?(F=c.task_priorities.map(Be),e[75]=c.task_priorities,e[76]=F):F=e[76];let I;e[77]!==F?(I=t.jsx(Se,{children:F}),e[77]=F,e[78]=I):I=e[78];let L;e[79]!==i.priority_id||e[80]!==D||e[81]!==I?(L=t.jsxs("div",{className:"space-y-2",children:[ae,t.jsxs(ke,{value:Te,onValueChange:D,children:[re,I]})]}),e[79]=i.priority_id,e[80]=D,e[81]=I,e[82]=L):L=e[82];let O;e[83]!==A||e[84]!==L?(O=t.jsxs("div",{className:"mt-6 grid gap-4 sm:grid-cols-2",children:[A,L]}),e[83]=A,e[84]=L,e[85]=O):O=e[85];let oe;e[86]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsx(K,{htmlFor:"due_date",children:"Due Date (Optional)"}),e[86]=oe):oe=e[86];let V;e[87]!==a?(V=o=>a("due_date",o.target.value),e[87]=a,e[88]=V):V=e[88];const je=r.due_date?"border-destructive":"";let B;e[89]!==i.due_date||e[90]!==V||e[91]!==je?(B=t.jsx(ge,{id:"due_date",type:"date",value:i.due_date,onChange:V,className:je}),e[89]=i.due_date,e[90]=V,e[91]=je,e[92]=B):B=e[92];let E;e[93]!==r.due_date?(E=r.due_date&&t.jsx("p",{className:"text-sm text-destructive",children:r.due_date}),e[93]=r.due_date,e[94]=E):E=e[94];let H;e[95]!==B||e[96]!==E?(H=t.jsxs("div",{className:"mt-6 space-y-2",children:[oe,B,E]}),e[95]=B,e[96]=E,e[97]=H):H=e[97];let P;e[98]!==y||e[99]!==C||e[100]!==O||e[101]!==H?(P=t.jsxs("div",{className:"rounded-xl border border-sidebar-border/70 bg-card p-6 dark:border-sidebar-border",children:[y,C,O,H]}),e[98]=y,e[99]=C,e[100]=O,e[101]=H,e[102]=P):P=e[102];let R;e[103]!==s.id?(R=t.jsx(ve,{type:"button",variant:"outline",onClick:()=>be.visit(`/opus/projects/${s.id}`),children:"Cancel"}),e[103]=s.id,e[104]=R):R=e[104];let ce;e[105]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx(Ve,{className:"mr-2 h-4 w-4"}),e[105]=ce):ce=e[105];let z;e[106]!==ue?(z=t.jsxs(ve,{type:"submit",disabled:ue,children:[ce,"Create Task"]}),e[106]=ue,e[107]=z):z=e[107];let q;e[108]!==R||e[109]!==z?(q=t.jsxs("div",{className:"flex justify-end gap-3",children:[R,z]}),e[108]=R,e[109]=z,e[110]=q):q=e[110];let G;e[111]!==pe||e[112]!==P||e[113]!==q?(G=t.jsx("div",{className:"mx-auto w-full max-w-2xl",children:t.jsxs("form",{onSubmit:pe,className:"space-y-6",children:[P,q]})}),e[111]=pe,e[112]=P,e[113]=q,e[114]=G):G=e[114];let J;e[115]!==j||e[116]!==G?(J=t.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 overflow-x-auto p-4",children:[j,G]}),e[115]=j,e[116]=G,e[117]=J):J=e[117];let de;return e[118]!==me||e[119]!==p||e[120]!==J?(de=t.jsxs(Ie,{breadcrumbs:me,children:[p,J]}),e[118]=me,e[119]=p,e[120]=J,e[121]=de):de=e[121],de}function Be(l){return t.jsx(Ce,{value:l.id.toString(),children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"h-2 w-2 rounded-full",style:{backgroundColor:l.color}}),l.name]})},l.id)}function Ee(l){return t.jsx(Ce,{value:l.id.toString(),children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"h-2 w-2 rounded-full",style:{backgroundColor:l.color}}),l.name]})},l.id)}function He(l){return l.slug==="medium"}function Pe(l){return l.slug==="todo"}export{st as default};
