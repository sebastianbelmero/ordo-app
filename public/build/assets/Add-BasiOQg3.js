import{c as A,r as y,j as s,a as _,H as E,L}from"./app-BZn2Y_Rz.js";import{a as U}from"./app-layout-Bs9Ih2Sn.js";import{B as N}from"./button-VzMRwoWK.js";import{I as R}from"./input-DHqUsl1U.js";import{S as w}from"./search-CxKGlV_k.js";import{U as z}from"./user-plus-BBThx0xG.js";import{A as B}from"./arrow-left-BTeP98uM.js";/* empty css            */import"./graduation-cap-Bl6zL9C8.js";import"./app-logo-icon-GpKUnOHy.js";function H(b){const e=A.c(5),{user:r}=b;let a;e[0]!==r.avatar||e[1]!==r.name?(a=r.avatar?s.jsx("img",{src:r.avatar,alt:r.name,className:"h-full w-full rounded-full object-cover"}):r.name.substring(0,2).toUpperCase(),e[0]=r.avatar,e[1]=r.name,e[2]=a):a=e[2];let l;return e[3]!==a?(l=s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-slate-200 text-sm font-semibold text-slate-600 dark:bg-slate-700 dark:text-slate-300",children:a}),e[3]=a,e[4]=l):l=e[4],l}function M(b){const e=A.c(21),{users:r,search:a}=b,[l,F]=y.useState(a),[d,S]=y.useState(null);let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=[{title:"Friends",href:"/friends"},{title:"Add Friend",href:"/friends/add"}],e[0]=o):o=e[0];const k=o;let m;e[1]!==l?(m=t=>{t.preventDefault(),_.get("/friends/add",{search:l},{preserveState:!0,preserveScroll:!0})},e[1]=l,e[2]=m):m=e[2];const g=m;let f;e[3]===Symbol.for("react.memo_cache_sentinel")?(f=t=>{S(t),_.post("/friends",{receiver_id:t},{preserveScroll:!0,onFinish:()=>S(null)})},e[3]=f):f=e[3];const C=f;let x;e[4]===Symbol.for("react.memo_cache_sentinel")?(x=s.jsx(E,{title:"Add Friend"}),e[4]=x):x=e[4];let h;e[5]===Symbol.for("react.memo_cache_sentinel")?(h=s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(N,{variant:"ghost",size:"icon",asChild:!0,children:s.jsx(L,{href:"/friends",children:s.jsx(B,{className:"h-4 w-4"})})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Add Friend"}),s.jsx("p",{className:"text-muted-foreground",children:"Search for users to add as friends"})]})]}),e[5]=h):h=e[5];let u;e[6]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx(w,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e[6]=u):u=e[6];let p;e[7]===Symbol.for("react.memo_cache_sentinel")?(p=t=>F(t.target.value),e[7]=p):p=e[7];let n;e[8]!==l?(n=s.jsxs("div",{className:"relative flex-1",children:[u,s.jsx(R,{type:"text",placeholder:"Search by name or email...",value:l,onChange:p,className:"pl-10"})]}),e[8]=l,e[9]=n):n=e[9];let j;e[10]===Symbol.for("react.memo_cache_sentinel")?(j=s.jsx(N,{type:"submit",children:"Search"}),e[10]=j):j=e[10];let i;e[11]!==g||e[12]!==n?(i=s.jsxs("form",{onSubmit:g,className:"flex gap-2",children:[n,j]}),e[11]=g,e[12]=n,e[13]=i):i=e[13];let c;e[14]!==a||e[15]!==d||e[16]!==r?(c=s.jsx("div",{className:"rounded-xl border bg-card p-4",children:a?r.length===0?s.jsx("div",{className:"py-8 text-center",children:s.jsxs("p",{className:"text-muted-foreground",children:['No users found for "',a,'"']})}):s.jsx("div",{className:"space-y-3",children:r.map(t=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(H,{user:t}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:t.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:t.email})]})]}),s.jsxs(N,{size:"sm",disabled:d===t.id,onClick:()=>C(t.id),children:[s.jsx(z,{className:"mr-1 h-4 w-4"}),d===t.id?"Sending...":"Add Friend"]})]},t.id))}):s.jsxs("div",{className:"py-8 text-center",children:[s.jsx(w,{className:"mx-auto mb-3 h-12 w-12 text-muted-foreground/50"}),s.jsx("p",{className:"text-muted-foreground",children:"Enter a name or email to search"})]})}),e[14]=a,e[15]=d,e[16]=r,e[17]=c):c=e[17];let v;return e[18]!==i||e[19]!==c?(v=s.jsxs(U,{breadcrumbs:k,children:[x,s.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 overflow-x-auto p-4",children:[h,i,c]})]}),e[18]=i,e[19]=c,e[20]=v):v=e[20],v}export{M as default};
