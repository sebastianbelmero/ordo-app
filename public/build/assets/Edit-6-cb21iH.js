import{c as Pe,u as Ue,r as qe,j as t,a as $e,H as Ge}from"./app-BCcZMIq_.js";import{a as Je}from"./app-layout-Cgg_NPO5.js";import{B as _e}from"./button-B7Wlbqhy.js";import{I as Fe}from"./input-DXXSDsNC.js";import{L as Q}from"./label-BlCnBUaX.js";import{T as Ke}from"./textarea-DAl1Zq9D.js";import{S as Ie,a as Le,c as He,d as Oe,b as Ve}from"./select-Bmv4M3Ot.js";import{b as Me,d as Qe,h as We,c as Xe,f as Ye,e as Ze,g as et,A as tt,a as st}from"./alert-dialog-DfWuVz71.js";import{A as lt}from"./arrow-left-DM6457CL.js";import{T as it}from"./trash-2-cIqDdKwl.js";import{S as at}from"./save-CrtcsZmc.js";/* empty css            */import"./graduation-cap-CPVx1Rv5.js";import"./app-logo-icon-BzZkLVMi.js";import"./index-D3akX1qU.js";import"./check-B3_9lqVr.js";import"./index-Cg-G9xqa.js";function kt(r){const e=Pe.c(139),{task:s,statusConfig:c}=r;let W;e[0]===Symbol.for("react.memo_cache_sentinel")?(W={title:"Opus",href:"/opus/workspaces"},e[0]=W):W=e[0];const je=`/opus/projects/${s.project_id}`;let d;e[1]!==je?(d={title:"Tasks",href:je},e[1]=je,e[2]=d):d=e[2];const ge=`/opus/tasks/${s.id}`;let n;e[3]!==ge||e[4]!==s.title?(n={title:s.title,href:ge},e[3]=ge,e[4]=s.title,e[5]=n):n=e[5];let X;e[6]===Symbol.for("react.memo_cache_sentinel")?(X={title:"Edit",href:"#"},e[6]=X):X=e[6];let Y;e[7]!==d||e[8]!==n?(Y=[W,d,n,X],e[7]=d,e[8]=n,e[9]=Y):Y=e[9];const be=Y,ze=s.title,ve=s.description||"";let m;e[10]!==s.status_id?(m=s.status_id.toString(),e[10]=s.status_id,e[11]=m):m=e[11];let f;e[12]!==s.priority_id?(f=s.priority_id.toString(),e[12]=s.priority_id,e[13]=f):f=e[13];let u;e[14]!==s.due_date?(u=s.due_date?s.due_date.split("T")[0]:"",e[14]=s.due_date,e[15]=u):u=e[15];let Z;e[16]!==m||e[17]!==f||e[18]!==u||e[19]!==ve||e[20]!==s.title?(Z={title:ze,description:ve,status_id:m,priority_id:f,due_date:u},e[16]=m,e[17]=f,e[18]=u,e[19]=ve,e[20]=s.title,e[21]=Z):Z=e[21];const{data:l,setData:i,put:ye,processing:Se,errors:a}=Ue(Z),[ee,Ee]=qe.useState(!1);let te;e[22]!==ye||e[23]!==s.id?(te=o=>{o.preventDefault(),ye(`/opus/tasks/${s.id}`)},e[22]=ye,e[23]=s.id,e[24]=te):te=e[24];const Ne=te;let se;e[25]!==s.id?(se=()=>{Ee(!0),$e.delete(`/opus/tasks/${s.id}`,{onFinish:()=>Ee(!1)})},e[25]=s.id,e[26]=se):se=e[26];const ke=se,De=`Edit Task - ${s.title}`;let p;e[27]!==De?(p=t.jsx(Ge,{title:De}),e[27]=De,e[28]=p):p=e[28];let h;e[29]!==s.id?(h=()=>$e.visit(`/opus/tasks/${s.id}`),e[29]=s.id,e[30]=h):h=e[30];let le;e[31]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx(lt,{className:"h-4 w-4"}),e[31]=le):le=e[31];let x;e[32]!==h?(x=t.jsx(_e,{variant:"ghost",size:"icon",onClick:h,children:le}),e[32]=h,e[33]=x):x=e[33];let ie;e[34]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Edit Task"}),t.jsx("p",{className:"text-muted-foreground",children:"Update task details"})]}),e[34]=ie):ie=e[34];let _;e[35]!==x?(_=t.jsxs("div",{className:"flex items-center gap-4",children:[x,ie]}),e[35]=x,e[36]=_):_=e[36];let ae;e[37]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsx(We,{asChild:!0,children:t.jsxs(_e,{variant:"destructive",size:"sm",children:[t.jsx(it,{className:"mr-2 h-4 w-4"}),"Delete"]})}),e[37]=ae):ae=e[37];let re;e[38]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsx(Xe,{children:"Delete Task?"}),e[38]=re):re=e[38];let j;e[39]!==s.title?(j=t.jsxs(Me,{children:[re,t.jsxs(Qe,{children:['This will permanently delete "',s.title,'". This action cannot be undone.']})]}),e[39]=s.title,e[40]=j):j=e[40];let oe;e[41]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsx(Ye,{children:"Cancel"}),e[41]=oe):oe=e[41];const Ce=ee?"Deleting...":"Delete";let g;e[42]!==ke||e[43]!==ee||e[44]!==Ce?(g=t.jsxs(Ze,{children:[oe,t.jsx(et,{onClick:ke,disabled:ee,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:Ce})]}),e[42]=ke,e[43]=ee,e[44]=Ce,e[45]=g):g=e[45];let b;e[46]!==j||e[47]!==g?(b=t.jsxs(tt,{children:[ae,t.jsxs(st,{children:[j,g]})]}),e[46]=j,e[47]=g,e[48]=b):b=e[48];let v;e[49]!==_||e[50]!==b?(v=t.jsxs("div",{className:"flex items-center justify-between",children:[_,b]}),e[49]=_,e[50]=b,e[51]=v):v=e[51];let ce;e[52]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx(Q,{htmlFor:"title",children:"Task Title"}),e[52]=ce):ce=e[52];let y;e[53]!==i?(y=o=>i("title",o.target.value),e[53]=i,e[54]=y):y=e[54];const Te=a.title?"border-destructive":"";let S;e[55]!==l.title||e[56]!==y||e[57]!==Te?(S=t.jsx(Fe,{id:"title",type:"text",value:l.title,onChange:y,placeholder:"e.g., Implement user authentication",className:Te}),e[55]=l.title,e[56]=y,e[57]=Te,e[58]=S):S=e[58];let N;e[59]!==a.title?(N=a.title&&t.jsx("p",{className:"text-sm text-destructive",children:a.title}),e[59]=a.title,e[60]=N):N=e[60];let k;e[61]!==S||e[62]!==N?(k=t.jsxs("div",{className:"space-y-2",children:[ce,S,N]}),e[61]=S,e[62]=N,e[63]=k):k=e[63];let de;e[64]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsx(Q,{htmlFor:"description",children:"Description (Optional)"}),e[64]=de):de=e[64];let D;e[65]!==i?(D=o=>i("description",o.target.value),e[65]=i,e[66]=D):D=e[66];const Ae=a.description?"border-destructive":"";let C;e[67]!==l.description||e[68]!==D||e[69]!==Ae?(C=t.jsx(Ke,{id:"description",value:l.description,onChange:D,placeholder:"Add more details about this task...",rows:4,className:Ae}),e[67]=l.description,e[68]=D,e[69]=Ae,e[70]=C):C=e[70];let T;e[71]!==a.description?(T=a.description&&t.jsx("p",{className:"text-sm text-destructive",children:a.description}),e[71]=a.description,e[72]=T):T=e[72];let A;e[73]!==C||e[74]!==T?(A=t.jsxs("div",{className:"mt-6 space-y-2",children:[de,C,T]}),e[73]=C,e[74]=T,e[75]=A):A=e[75];let ne;e[76]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsx(Q,{children:"Status"}),e[76]=ne):ne=e[76];const Be=l.status_id;let w;e[77]!==i?(w=o=>i("status_id",o),e[77]=i,e[78]=w):w=e[78];let me;e[79]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsx(Ie,{children:t.jsx(Le,{placeholder:"Select status"})}),e[79]=me):me=e[79];let $;e[80]!==c.task_statuses?($=c.task_statuses.map(ot),e[80]=c.task_statuses,e[81]=$):$=e[81];let E;e[82]!==$?(E=t.jsx(He,{children:$}),e[82]=$,e[83]=E):E=e[83];let F;e[84]!==l.status_id||e[85]!==w||e[86]!==E?(F=t.jsxs("div",{className:"space-y-2",children:[ne,t.jsxs(Oe,{value:Be,onValueChange:w,children:[me,E]})]}),e[84]=l.status_id,e[85]=w,e[86]=E,e[87]=F):F=e[87];let fe;e[88]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsx(Q,{children:"Priority"}),e[88]=fe):fe=e[88];const Re=l.priority_id;let I;e[89]!==i?(I=o=>i("priority_id",o),e[89]=i,e[90]=I):I=e[90];let ue;e[91]===Symbol.for("react.memo_cache_sentinel")?(ue=t.jsx(Ie,{children:t.jsx(Le,{placeholder:"Select priority"})}),e[91]=ue):ue=e[91];let L;e[92]!==c.task_priorities?(L=c.task_priorities.map(rt),e[92]=c.task_priorities,e[93]=L):L=e[93];let H;e[94]!==L?(H=t.jsx(He,{children:L}),e[94]=L,e[95]=H):H=e[95];let O;e[96]!==l.priority_id||e[97]!==I||e[98]!==H?(O=t.jsxs("div",{className:"space-y-2",children:[fe,t.jsxs(Oe,{value:Re,onValueChange:I,children:[ue,H]})]}),e[96]=l.priority_id,e[97]=I,e[98]=H,e[99]=O):O=e[99];let V;e[100]!==F||e[101]!==O?(V=t.jsxs("div",{className:"mt-6 grid gap-4 sm:grid-cols-2",children:[F,O]}),e[100]=F,e[101]=O,e[102]=V):V=e[102];let pe;e[103]===Symbol.for("react.memo_cache_sentinel")?(pe=t.jsx(Q,{htmlFor:"due_date",children:"Due Date (Optional)"}),e[103]=pe):pe=e[103];let z;e[104]!==i?(z=o=>i("due_date",o.target.value),e[104]=i,e[105]=z):z=e[105];const we=a.due_date?"border-destructive":"";let B;e[106]!==l.due_date||e[107]!==z||e[108]!==we?(B=t.jsx(Fe,{id:"due_date",type:"date",value:l.due_date,onChange:z,className:we}),e[106]=l.due_date,e[107]=z,e[108]=we,e[109]=B):B=e[109];let R;e[110]!==a.due_date?(R=a.due_date&&t.jsx("p",{className:"text-sm text-destructive",children:a.due_date}),e[110]=a.due_date,e[111]=R):R=e[111];let P;e[112]!==B||e[113]!==R?(P=t.jsxs("div",{className:"mt-6 space-y-2",children:[pe,B,R]}),e[112]=B,e[113]=R,e[114]=P):P=e[114];let U;e[115]!==k||e[116]!==A||e[117]!==V||e[118]!==P?(U=t.jsxs("div",{className:"rounded-xl border border-sidebar-border/70 bg-card p-6 dark:border-sidebar-border",children:[k,A,V,P]}),e[115]=k,e[116]=A,e[117]=V,e[118]=P,e[119]=U):U=e[119];let q;e[120]!==s.id?(q=t.jsx(_e,{type:"button",variant:"outline",onClick:()=>$e.visit(`/opus/tasks/${s.id}`),children:"Cancel"}),e[120]=s.id,e[121]=q):q=e[121];let he;e[122]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsx(at,{className:"mr-2 h-4 w-4"}),e[122]=he):he=e[122];let G;e[123]!==Se?(G=t.jsxs(_e,{type:"submit",disabled:Se,children:[he,"Save Changes"]}),e[123]=Se,e[124]=G):G=e[124];let J;e[125]!==q||e[126]!==G?(J=t.jsxs("div",{className:"flex justify-end gap-3",children:[q,G]}),e[125]=q,e[126]=G,e[127]=J):J=e[127];let K;e[128]!==Ne||e[129]!==U||e[130]!==J?(K=t.jsx("div",{className:"mx-auto w-full max-w-2xl",children:t.jsxs("form",{onSubmit:Ne,className:"space-y-6",children:[U,J]})}),e[128]=Ne,e[129]=U,e[130]=J,e[131]=K):K=e[131];let M;e[132]!==v||e[133]!==K?(M=t.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 overflow-x-auto p-4",children:[v,K]}),e[132]=v,e[133]=K,e[134]=M):M=e[134];let xe;return e[135]!==be||e[136]!==p||e[137]!==M?(xe=t.jsxs(Je,{breadcrumbs:be,children:[p,M]}),e[135]=be,e[136]=p,e[137]=M,e[138]=xe):xe=e[138],xe}function rt(r){return t.jsx(Ve,{value:r.id.toString(),children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"h-2 w-2 rounded-full",style:{backgroundColor:r.color}}),r.name]})},r.id)}function ot(r){return t.jsx(Ve,{value:r.id.toString(),children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"h-2 w-2 rounded-full",style:{backgroundColor:r.color}}),r.name]})},r.id)}export{kt as default};
