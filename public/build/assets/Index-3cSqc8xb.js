import{c as xe,r as we,j as t,H as Oe,L as ke}from"./app-C6vUMXGR.js";import{D as Se,b as w,d as Ce,c as Te,a as Re,f as Ee}from"./app-layout-C1rFmZUK.js";import{B as k}from"./button-CbSMJA6N.js";import{I as Be}from"./input-CGnJOQiu.js";import{S as Ae}from"./search-vQPuSVAG.js";import{A as He}from"./arrow-left-BfX1ejtt.js";import{P as Ie}from"./plus-Ccy1II-v.js";import{T as Pe}from"./tag-tT4pD2S7.js";import{C as Qe}from"./clock-BG-1y_gc.js";import{C as pe}from"./circle-check-DHiGn8Oc.js";import{C as De}from"./graduation-cap-DOye_TA7.js";import{F as qe}from"./funnel-gbSg2v6v.js";import{G as Ve}from"./grid-3x3-Da3WKHpX.js";import{L as We}from"./list-7Wni3wXr.js";import{E as ze}from"./ellipsis-BJU8i5dj.js";/* empty css            */import"./app-logo-icon-B8A7z8aW.js";function Fe(l){return l?new Date(l).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"-"}function $e(l){return l?new Date(l)<new Date:!1}function Ge(l){if(!l)return!1;const e=new Date(l),s=new Date,r=Math.ceil((e.getTime()-s.getTime())/(1e3*60*60*24));return r>=0&&r<=3}function Je(l){const e=xe.c(41),{task:s}=l;let r;e[0]!==s.due_date||e[1]!==s.status?.is_completed?(r=!s.status?.is_completed&&$e(s.due_date),e[0]=s.due_date,e[1]=s.status?.is_completed,e[2]=r):r=e[2];const i=r;let c;e[3]!==i||e[4]!==s.due_date||e[5]!==s.status?.is_completed?(c=!s.status?.is_completed&&!i&&Ge(s.due_date),e[3]=i,e[4]=s.due_date,e[5]=s.status?.is_completed,e[6]=c):c=e[6];const o=c,_=`/opus/tasks/${s.id}`;let d;e[7]!==s.status?.color||e[8]!==s.status?.is_completed?(d=s.status?.is_completed?t.jsx(pe,{className:"mt-0.5 h-5 w-5 text-green-500"}):t.jsx("div",{className:"mt-0.5 h-5 w-5 rounded-full border-2",style:{borderColor:s.status?.color??"#64748b"}}),e[7]=s.status?.color,e[8]=s.status?.is_completed,e[9]=d):d=e[9];const N=`font-semibold ${s.status?.is_completed?"line-through text-muted-foreground":""}`;let a;e[10]!==N||e[11]!==s.title?(a=t.jsx("h3",{className:N,children:s.title}),e[10]=N,e[11]=s.title,e[12]=a):a=e[12];let n;e[13]!==s.description?(n=s.description&&t.jsx("p",{className:"mt-1 line-clamp-2 text-sm text-muted-foreground",children:s.description}),e[13]=s.description,e[14]=n):n=e[14];let m;e[15]!==a||e[16]!==n?(m=t.jsxs("div",{className:"flex-1",children:[a,n]}),e[15]=a,e[16]=n,e[17]=m):m=e[17];let f;e[18]!==d||e[19]!==m?(f=t.jsxs("div",{className:"flex items-start gap-3",children:[d,m]}),e[18]=d,e[19]=m,e[20]=f):f=e[20];let x;e[21]===Symbol.for("react.memo_cache_sentinel")?(x=t.jsx(Se,{asChild:!0,children:t.jsx(k,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100",onClick:Ke,children:t.jsx(ze,{className:"h-4 w-4"})})}),e[21]=x):x=e[21];let j;e[22]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsxs(Te,{children:[x,t.jsxs(Ce,{align:"end",children:[t.jsx(w,{children:"Edit"}),t.jsx(w,{children:"Duplicate"}),t.jsx(Ee,{}),t.jsx(w,{className:"text-destructive",children:"Delete"})]})]}),e[22]=j):j=e[22];let u;e[23]!==f?(u=t.jsxs("div",{className:"flex items-start justify-between",children:[f,j]}),e[23]=f,e[24]=u):u=e[24];let g;e[25]!==s.status?(g=s.status&&t.jsx("span",{className:"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs text-white",style:{backgroundColor:s.status.color},children:s.status.name}),e[25]=s.status,e[26]=g):g=e[26];let p;e[27]!==s.priority?(p=s.priority&&t.jsx("span",{className:"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs",style:{backgroundColor:`${s.priority.color}20`,color:s.priority.color},children:s.priority.name}),e[27]=s.priority,e[28]=p):p=e[28];let b;e[29]!==o||e[30]!==i||e[31]!==s.due_date?(b=s.due_date&&t.jsxs("span",{className:`inline-flex items-center gap-1 rounded-full px-2.5 py-0.5 text-xs ${i?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":o?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":"bg-muted text-muted-foreground"}`,children:[t.jsx(De,{className:"h-3 w-3"}),Fe(s.due_date)]}),e[29]=o,e[30]=i,e[31]=s.due_date,e[32]=b):b=e[32];let v;e[33]!==g||e[34]!==p||e[35]!==b?(v=t.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[g,p,b]}),e[33]=g,e[34]=p,e[35]=b,e[36]=v):v=e[36];let y;return e[37]!==u||e[38]!==v||e[39]!==_?(y=t.jsxs(ke,{href:_,className:"group block rounded-xl border border-sidebar-border/70 bg-card p-4 transition-all hover:border-primary/50 hover:shadow-md dark:border-sidebar-border",children:[u,v]}),e[37]=u,e[38]=v,e[39]=_,e[40]=y):y=e[40],y}function Ke(l){return l.preventDefault()}function Ue(l){const e=xe.c(37),{task:s}=l;let r;e[0]!==s.due_date||e[1]!==s.status?.is_completed?(r=!s.status?.is_completed&&$e(s.due_date),e[0]=s.due_date,e[1]=s.status?.is_completed,e[2]=r):r=e[2];const i=r;let c;e[3]!==i||e[4]!==s.due_date||e[5]!==s.status?.is_completed?(c=!s.status?.is_completed&&!i&&Ge(s.due_date),e[3]=i,e[4]=s.due_date,e[5]=s.status?.is_completed,e[6]=c):c=e[6];const o=c,_=`/opus/tasks/${s.id}`;let d;e[7]!==s.status?.color||e[8]!==s.status?.is_completed?(d=s.status?.is_completed?t.jsx(pe,{className:"h-5 w-5 flex-shrink-0 text-green-500"}):t.jsx("div",{className:"h-5 w-5 flex-shrink-0 rounded-full border-2",style:{borderColor:s.status?.color??"#64748b"}}),e[7]=s.status?.color,e[8]=s.status?.is_completed,e[9]=d):d=e[9];const N=`truncate font-medium ${s.status?.is_completed?"line-through text-muted-foreground":""}`;let a;e[10]!==N||e[11]!==s.title?(a=t.jsx("h4",{className:N,children:s.title}),e[10]=N,e[11]=s.title,e[12]=a):a=e[12];let n;e[13]!==s.description?(n=s.description&&t.jsx("p",{className:"truncate text-sm text-muted-foreground",children:s.description}),e[13]=s.description,e[14]=n):n=e[14];let m;e[15]!==a||e[16]!==n?(m=t.jsxs("div",{className:"min-w-0 flex-1",children:[a,n]}),e[15]=a,e[16]=n,e[17]=m):m=e[17];let f;e[18]!==s.status?(f=s.status&&t.jsx("span",{className:"hidden rounded-full px-2.5 py-0.5 text-xs text-white sm:inline-flex",style:{backgroundColor:s.status.color},children:s.status.name}),e[18]=s.status,e[19]=f):f=e[19];let x;e[20]!==s.priority?(x=s.priority&&t.jsx("span",{className:"hidden rounded-full px-2.5 py-0.5 text-xs sm:inline-flex",style:{backgroundColor:`${s.priority.color}20`,color:s.priority.color},children:s.priority.name}),e[20]=s.priority,e[21]=x):x=e[21];let j;e[22]!==o||e[23]!==i||e[24]!==s.due_date?(j=s.due_date&&t.jsxs("span",{className:`inline-flex items-center gap-1 rounded-full px-2.5 py-0.5 text-xs ${i?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":o?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":"bg-muted text-muted-foreground"}`,children:[t.jsx(De,{className:"h-3 w-3"}),Fe(s.due_date)]}),e[22]=o,e[23]=i,e[24]=s.due_date,e[25]=j):j=e[25];let u;e[26]!==x||e[27]!==j||e[28]!==f?(u=t.jsxs("div",{className:"flex items-center gap-2",children:[f,x,j]}),e[26]=x,e[27]=j,e[28]=f,e[29]=u):u=e[29];let g;e[30]===Symbol.for("react.memo_cache_sentinel")?(g=t.jsx(Se,{asChild:!0,children:t.jsx(k,{variant:"ghost",size:"icon",className:"h-8 w-8 flex-shrink-0 opacity-0 group-hover:opacity-100",onClick:Xe,children:t.jsx(ze,{className:"h-4 w-4"})})}),e[30]=g):g=e[30];let p;e[31]===Symbol.for("react.memo_cache_sentinel")?(p=t.jsxs(Te,{children:[g,t.jsxs(Ce,{align:"end",children:[t.jsx(w,{children:"Edit"}),t.jsx(w,{children:"Duplicate"}),t.jsx(Ee,{}),t.jsx(w,{className:"text-destructive",children:"Delete"})]})]}),e[31]=p):p=e[31];let b;return e[32]!==u||e[33]!==_||e[34]!==d||e[35]!==m?(b=t.jsxs(ke,{href:_,className:"group flex items-center gap-4 rounded-lg border border-transparent bg-card p-4 transition-all hover:border-primary/30 hover:shadow-sm",children:[d,m,u,p]}),e[32]=u,e[33]=_,e[34]=d,e[35]=m,e[36]=b):b=e[36],b}function Xe(l){return l.preventDefault()}function Ye(l){const e=xe.c(7),{projectName:s}=l;let r,i;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=t.jsx("div",{className:"rounded-full bg-primary/10 p-4",children:t.jsx(pe,{className:"h-8 w-8 text-primary"})}),i=t.jsx("h3",{className:"mt-4 text-lg font-semibold",children:"No tasks yet"}),e[0]=r,e[1]=i):(r=e[0],i=e[1]);let c;e[2]!==s?(c=t.jsxs("p",{className:"mt-1 text-center text-sm text-muted-foreground",children:["Get started by creating your first task in ",s]}),e[2]=s,e[3]=c):c=e[3];let o;e[4]===Symbol.for("react.memo_cache_sentinel")?(o=t.jsxs(k,{className:"mt-4 gap-2",children:[t.jsx(Ie,{className:"h-4 w-4"}),"Create Task"]}),e[4]=o):o=e[4];let _;return e[5]!==c?(_=t.jsxs("div",{className:"flex flex-col items-center justify-center rounded-xl border border-dashed border-muted-foreground/25 bg-muted/30 py-16",children:[r,i,c,o]}),e[5]=c,e[6]=_):_=e[6],_}function yt(l){const e=xe.c(100),{project:s,tasks:r}=l,[i,c]=we.useState("grid"),[o,_]=we.useState(""),[d,N]=we.useState("all");let a=r.data;if(o){let h;if(e[0]!==a||e[1]!==o){const Le=o.toLowerCase();h=a.filter(Me=>Me.title.toLowerCase().includes(Le)||Me.description?.toLowerCase().includes(Le)),e[0]=a,e[1]=o,e[2]=h}else h=e[2];a=h}if(d==="active"){let h;e[3]!==a?(h=a.filter(rt),e[3]=a,e[4]=h):h=e[4],a=h}else if(d==="completed"){let h;e[5]!==a?(h=a.filter(lt),e[5]=a,e[6]=h):h=e[6],a=h}const n=a,m=r.data.length;let f;e[7]!==r.data?(f=r.data.filter(st),e[7]=r.data,e[8]=f):f=e[8];const x=f.length,j=m-x;let u;e[9]!==r.data?(u=r.data.filter(tt),e[9]=r.data,e[10]=u):u=e[10];const g=u.length;let p;e[11]===Symbol.for("react.memo_cache_sentinel")?(p={title:"Opus",href:"/opus/workspaces"},e[11]=p):p=e[11];const b=s.workspace?.name??"Workspace",v=`/opus/workspaces/${s.workspace_id}`;let y;e[12]!==b||e[13]!==v?(y={title:b,href:v},e[12]=b,e[13]=v,e[14]=y):y=e[14];const he=`/opus/projects/${s.id}`;let S;e[15]!==s.name||e[16]!==he?(S={title:s.name,href:he},e[15]=s.name,e[16]=he,e[17]=S):S=e[17];const je=`/opus/projects/${s.id}/tasks`;let C;e[18]!==je?(C={title:"Tasks",href:je},e[18]=je,e[19]=C):C=e[19];let K;e[20]!==C||e[21]!==y||e[22]!==S?(K=[p,y,S,C],e[20]=C,e[21]=y,e[22]=S,e[23]=K):K=e[23];const ge=K,be=`Tasks - ${s.name}`;let T;e[24]!==be?(T=t.jsx(Oe,{title:be}),e[24]=be,e[25]=T):T=e[25];const _e=`/opus/projects/${s.id}`;let U;e[26]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsx(He,{className:"h-5 w-5"}),e[26]=U):U=e[26];let D;e[27]!==_e?(D=t.jsx(ke,{href:_e,className:"rounded-lg p-2 transition-colors hover:bg-muted",children:U}),e[27]=_e,e[28]=D):D=e[28];let $;e[29]!==s.name?($=t.jsxs("h1",{className:"text-2xl font-bold tracking-tight",children:[s.name," - Tasks"]}),e[29]=s.name,e[30]=$):$=e[30];let X;e[31]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage and track all tasks in this project"}),e[31]=X):X=e[31];let L;e[32]!==$?(L=t.jsxs("div",{children:[$,X]}),e[32]=$,e[33]=L):L=e[33];let M;e[34]!==D||e[35]!==L?(M=t.jsxs("div",{className:"flex items-center gap-3",children:[D,L]}),e[34]=D,e[35]=L,e[36]=M):M=e[36];let Y;e[37]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsxs(k,{className:"gap-2",children:[t.jsx(Ie,{className:"h-4 w-4"}),"New Task"]}),e[37]=Y):Y=e[37];let A;e[38]!==M?(A=t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[M,Y]}),e[38]=M,e[39]=A):A=e[39];let Z;e[40]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[t.jsx(Pe,{className:"h-4 w-4"}),t.jsx("span",{className:"text-sm",children:"Total"})]}),e[40]=Z):Z=e[40];let E;e[41]!==m?(E=t.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[Z,t.jsx("p",{className:"mt-1 text-2xl font-bold",children:m})]}),e[41]=m,e[42]=E):E=e[42];let ee;e[43]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[t.jsx(Qe,{className:"h-4 w-4"}),t.jsx("span",{className:"text-sm",children:"Active"})]}),e[43]=ee):ee=e[43];let I;e[44]!==j?(I=t.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[ee,t.jsx("p",{className:"mt-1 text-2xl font-bold text-blue-600",children:j})]}),e[44]=j,e[45]=I):I=e[45];let te;e[46]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[t.jsx(pe,{className:"h-4 w-4"}),t.jsx("span",{className:"text-sm",children:"Completed"})]}),e[46]=te):te=e[46];let z;e[47]!==x?(z=t.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[te,t.jsx("p",{className:"mt-1 text-2xl font-bold text-green-600",children:x})]}),e[47]=x,e[48]=z):z=e[48];let se;e[49]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[t.jsx(De,{className:"h-4 w-4"}),t.jsx("span",{className:"text-sm",children:"Overdue"})]}),e[49]=se):se=e[49];let F;e[50]!==g?(F=t.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[se,t.jsx("p",{className:"mt-1 text-2xl font-bold text-red-600",children:g})]}),e[50]=g,e[51]=F):F=e[51];let G;e[52]!==E||e[53]!==I||e[54]!==z||e[55]!==F?(G=t.jsxs("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-4",children:[E,I,z,F]}),e[52]=E,e[53]=I,e[54]=z,e[55]=F,e[56]=G):G=e[56];let le;e[57]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx(Ae,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e[57]=le):le=e[57];let re;e[58]===Symbol.for("react.memo_cache_sentinel")?(re=h=>_(h.target.value),e[58]=re):re=e[58];let O;e[59]!==o?(O=t.jsxs("div",{className:"relative max-w-sm flex-1",children:[le,t.jsx(Be,{placeholder:"Search tasks...",value:o,onChange:re,className:"pl-9"})]}),e[59]=o,e[60]=O):O=e[60];let ae;e[61]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsx(qe,{className:"h-4 w-4"}),e[61]=ae):ae=e[61];const Ne=d==="all"?"All":d==="active"?"Active":"Completed";let R;e[62]!==Ne?(R=t.jsx(Se,{asChild:!0,children:t.jsxs(k,{variant:"outline",className:"gap-2",children:[ae,Ne]})}),e[62]=Ne,e[63]=R):R=e[63];let ie;e[64]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx(w,{onClick:()=>N("all"),children:"All Tasks"}),e[64]=ie):ie=e[64];let oe;e[65]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsx(w,{onClick:()=>N("active"),children:"Active"}),e[65]=oe):oe=e[65];let ce;e[66]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsxs(Ce,{children:[ie,oe,t.jsx(w,{onClick:()=>N("completed"),children:"Completed"})]}),e[66]=ce):ce=e[66];let B;e[67]!==R?(B=t.jsxs(Te,{children:[R,ce]}),e[67]=R,e[68]=B):B=e[68];let H;e[69]!==O||e[70]!==B?(H=t.jsxs("div",{className:"flex flex-1 items-center gap-3",children:[O,B]}),e[69]=O,e[70]=B,e[71]=H):H=e[71];const ye=i==="grid"?"secondary":"ghost";let ne,de;e[72]===Symbol.for("react.memo_cache_sentinel")?(ne=()=>c("grid"),de=t.jsx(Ve,{className:"h-4 w-4"}),e[72]=ne,e[73]=de):(ne=e[72],de=e[73]);let P;e[74]!==ye?(P=t.jsx(k,{variant:ye,size:"sm",onClick:ne,children:de}),e[74]=ye,e[75]=P):P=e[75];const ve=i==="list"?"secondary":"ghost";let me,fe;e[76]===Symbol.for("react.memo_cache_sentinel")?(me=()=>c("list"),fe=t.jsx(We,{className:"h-4 w-4"}),e[76]=me,e[77]=fe):(me=e[76],fe=e[77]);let Q;e[78]!==ve?(Q=t.jsx(k,{variant:ve,size:"sm",onClick:me,children:fe}),e[78]=ve,e[79]=Q):Q=e[79];let q;e[80]!==P||e[81]!==Q?(q=t.jsxs("div",{className:"flex items-center gap-1 rounded-lg border p-1",children:[P,Q]}),e[80]=P,e[81]=Q,e[82]=q):q=e[82];let V;e[83]!==H||e[84]!==q?(V=t.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[H,q]}),e[83]=H,e[84]=q,e[85]=V):V=e[85];let W;e[86]!==n||e[87]!==s.name||e[88]!==r.data.length||e[89]!==i?(W=n.length===0?r.data.length===0?t.jsx(Ye,{projectName:s.name}):t.jsxs("div",{className:"flex flex-col items-center justify-center rounded-xl border border-dashed border-muted-foreground/25 bg-muted/30 py-16",children:[t.jsx(Ae,{className:"h-8 w-8 text-muted-foreground"}),t.jsx("h3",{className:"mt-4 text-lg font-semibold",children:"No results found"}),t.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Try adjusting your search or filter criteria"})]}):i==="grid"?t.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:n.map(et)}):t.jsx("div",{className:"space-y-2",children:n.map(Ze)}),e[86]=n,e[87]=s.name,e[88]=r.data.length,e[89]=i,e[90]=W):W=e[90];let J;e[91]!==A||e[92]!==G||e[93]!==V||e[94]!==W?(J=t.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[A,G,V,W]}),e[91]=A,e[92]=G,e[93]=V,e[94]=W,e[95]=J):J=e[95];let ue;return e[96]!==ge||e[97]!==T||e[98]!==J?(ue=t.jsxs(Re,{breadcrumbs:ge,children:[T,J]}),e[96]=ge,e[97]=T,e[98]=J,e[99]=ue):ue=e[99],ue}function Ze(l){return t.jsx(Ue,{task:l},l.id)}function et(l){return t.jsx(Je,{task:l},l.id)}function tt(l){return!l.status?.is_completed&&$e(l.due_date)}function st(l){return l.status?.is_completed}function lt(l){return l.status?.is_completed}function rt(l){return!l.status?.is_completed}export{yt as default};
