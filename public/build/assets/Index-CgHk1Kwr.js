import{c as z,r as F,j as s,a as A,H,L as D}from"./app-BCcZMIq_.js";import{X as I,U,a as P}from"./app-layout-Cgg_NPO5.js";import{B as y}from"./button-B7Wlbqhy.js";import{C as $}from"./clock-WTkobY8c.js";import{C as X}from"./check-B3_9lqVr.js";import{U as G}from"./user-plus-B8ieoqdJ.js";/* empty css            */import"./graduation-cap-CPVx1Rv5.js";import"./app-logo-icon-BzZkLVMi.js";function S(i){const e=z.c(5),{user:t}=i;let a;e[0]!==t.avatar||e[1]!==t.name?(a=t.avatar?s.jsx("img",{src:t.avatar,alt:t.name,className:"h-full w-full rounded-full object-cover"}):t.name.substring(0,2).toUpperCase(),e[0]=t.avatar,e[1]=t.name,e[2]=a):a=e[2];let r;return e[3]!==a?(r=s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-slate-200 text-sm font-semibold text-slate-600 dark:bg-slate-700 dark:text-slate-300",children:a}),e[3]=a,e[4]=r):r=e[4],r}function q(i){const e=z.c(26),{friends:t,pendingReceived:a,pendingSent:r}=i,[x,C]=F.useState(null),[w,R]=F.useState(null);let h;e[0]===Symbol.for("react.memo_cache_sentinel")?(h=[{title:"Friends",href:"/friends"}],e[0]=h):h=e[0];const E=h;let f;e[1]===Symbol.for("react.memo_cache_sentinel")?(f=(l,B)=>{C(l),A.patch(`/friends/${l}/respond`,{status:B},{preserveScroll:!0,onFinish:()=>C(null)})},e[1]=f):f=e[1];const _=f;let u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=l=>{R(l),A.delete(`/friends/${l}`,{preserveScroll:!0,onFinish:()=>R(null)})},e[2]=u):u=e[2];const L=u;let j;e[3]===Symbol.for("react.memo_cache_sentinel")?(j=s.jsx(H,{title:"Friends"}),e[3]=j):j=e[3];let p,b;e[4]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-violet-100 dark:bg-violet-900/30",children:s.jsx(U,{className:"h-5 w-5 text-violet-600"})}),b=s.jsx("h1",{className:"text-2xl font-bold",children:"Friends"}),e[4]=p,e[5]=b):(p=e[4],b=e[5]);const k=t.length!==1?"s":"";let n;e[6]!==t.length||e[7]!==k?(n=s.jsxs("div",{className:"flex items-center gap-3",children:[p,s.jsxs("div",{children:[b,s.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.length," friend",k]})]})]}),e[6]=t.length,e[7]=k,e[8]=n):n=e[8];let g;e[9]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsx(y,{asChild:!0,children:s.jsxs(D,{href:"/friends/add",children:[s.jsx(G,{className:"mr-2 h-4 w-4"}),"Add Friend"]})}),e[9]=g):g=e[9];let d;e[10]!==n?(d=s.jsxs("div",{className:"flex items-center justify-between",children:[n,g]}),e[10]=n,e[11]=d):d=e[11];let c;e[12]!==x||e[13]!==a?(c=a.length>0&&s.jsxs("div",{className:"rounded-xl border bg-card p-4",children:[s.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[s.jsx($,{className:"h-4 w-4 text-amber-500"}),s.jsx("h2",{className:"font-semibold",children:"Friend Requests"}),s.jsx("span",{className:"rounded-full bg-amber-100 px-2 py-0.5 text-xs font-medium text-amber-700 dark:bg-amber-900/30 dark:text-amber-400",children:a.length})]}),s.jsx("div",{className:"space-y-3",children:a.map(l=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-muted/50 p-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(S,{user:l.sender}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:l.sender.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:l.sender.email})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(y,{size:"sm",variant:"default",className:"bg-emerald-600 hover:bg-emerald-700",disabled:x===l.id,onClick:()=>_(l.id,"accepted"),children:[s.jsx(X,{className:"mr-1 h-4 w-4"}),"Accept"]}),s.jsxs(y,{size:"sm",variant:"outline",disabled:x===l.id,onClick:()=>_(l.id,"declined"),children:[s.jsx(I,{className:"mr-1 h-4 w-4"}),"Decline"]})]})]},l.id))})]}),e[12]=x,e[13]=a,e[14]=c):c=e[14];let m;e[15]!==w||e[16]!==r?(m=r.length>0&&s.jsxs("div",{className:"rounded-xl border bg-card p-4",children:[s.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[s.jsx($,{className:"h-4 w-4 text-blue-500"}),s.jsx("h2",{className:"font-semibold",children:"Sent Requests"}),s.jsx("span",{className:"rounded-full bg-blue-100 px-2 py-0.5 text-xs font-medium text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",children:r.length})]}),s.jsx("div",{className:"space-y-3",children:r.map(l=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-muted/50 p-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(S,{user:l.receiver}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:l.receiver.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:l.receiver.email})]})]}),s.jsx(y,{size:"sm",variant:"outline",disabled:w===l.id,onClick:()=>L(l.id),children:"Cancel"})]},l.id))})]}),e[15]=w,e[16]=r,e[17]=m):m=e[17];let v;e[18]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsx("h2",{className:"mb-4 font-semibold",children:"All Friends"}),e[18]=v):v=e[18];let o;e[19]!==t?(o=s.jsxs("div",{className:"rounded-xl border bg-card p-4",children:[v,t.length===0?s.jsxs("div",{className:"py-8 text-center",children:[s.jsx(U,{className:"mx-auto mb-3 h-12 w-12 text-muted-foreground/50"}),s.jsx("p",{className:"text-muted-foreground",children:"No friends yet"}),s.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Add friends to share job opportunities with them"})]}):s.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:t.map(J)})]}),e[19]=t,e[20]=o):o=e[20];let N;return e[21]!==d||e[22]!==c||e[23]!==m||e[24]!==o?(N=s.jsxs(P,{breadcrumbs:E,children:[j,s.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 overflow-x-auto p-4",children:[d,c,m,o]})]}),e[21]=d,e[22]=c,e[23]=m,e[24]=o,e[25]=N):N=e[25],N}function J(i){return s.jsx("div",{className:"flex items-center justify-between rounded-lg border p-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(S,{user:i}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:i.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i.email})]})]})},i.id)}export{q as default};
