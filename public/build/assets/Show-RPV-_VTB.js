import{c as Ee,r as te,j as t,L as Te,a as Be,H as Ye}from"./app-xIZYWCDp.js";import{J as Re,a as Ze,C as et}from"./app-layout-DLajnjpJ.js";import{B as f}from"./button-BXPk2AfM.js";import{f as He,b as Ve,c as qe,d as Ke,a as Ge,D as Qe}from"./dialog-CHGhcTch.js";import{E as tt}from"./external-link-BBSCSbRB.js";import{A as st}from"./arrow-left-DFC2_F2f.js";import{B as lt}from"./building-2-CB_Je51J.js";import{S as at}from"./square-pen-Bw0AdoCY.js";import{T as rt}from"./trash-2-GRwsDu23.js";import{M as it}from"./map-pin-Dq03swso.js";import{D as ot}from"./dollar-sign-C086n_7H.js";import{C as nt}from"./graduation-cap-BPGM7Ll1.js";import{C as We}from"./clock-C40rlsYF.js";import{S as ct}from"./star-MpqoGdGa.js";/* empty css            */import"./createLucideIcon-B3LiBfZd.js";import"./app-logo-icon-BTFLlc0O.js";function dt(a,e){if(!a&&!e)return"-";const s=l=>l>=1e6?`${(l/1e6).toFixed(1)}M`:l>=1e3?`${(l/1e3).toFixed(0)}K`:l.toLocaleString();return a&&e?`${s(a)} - ${s(e)}`:a?`${s(a)}+`:`Up to ${s(e)}`}function mt(a){return a?new Date(a).toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long",year:"numeric"}):"-"}function Xe(a){return new Date(a).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}function ft(a){const e=Ee.c(3),{level:s}=a;let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=[1,2,3,4,5],e[0]=l):l=e[0];let r;return e[1]!==s?(r=t.jsx("div",{className:"flex gap-1",children:l.map(o=>t.jsx(ct,{className:`h-5 w-5 ${o<=s?"fill-amber-400 text-amber-400":"text-muted-foreground/30"}`},o))}),e[1]=s,e[2]=r):r=e[2],r}function ut(a){const e=Ee.c(9),{statuses:s,currentStatusId:l}=a;let r,o;if(e[0]!==l||e[1]!==s){const x=[...s].sort(xt);let c;e[4]!==l?(c=m=>m.id===l,e[4]=l,e[5]=c):c=e[5];const d=x.findIndex(c);r="flex items-center gap-2",o=x.map((m,p)=>{const le=p<d,n=p===d;return t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:`flex h-8 items-center rounded-full px-3 text-xs font-medium transition-all ${n?"text-white":le?"bg-muted text-muted-foreground":"border border-muted-foreground/30 text-muted-foreground/50"}`,style:n?{backgroundColor:m.color}:void 0,children:m.name}),p<x.length-1&&t.jsx(et,{className:"mx-1 h-4 w-4 text-muted-foreground/30"})]},m.id)}),e[0]=l,e[1]=s,e[2]=r,e[3]=o}else r=e[2],o=e[3];let u;return e[6]!==r||e[7]!==o?(u=t.jsx("div",{className:r,children:o}),e[6]=r,e[7]=o,e[8]=u):u=e[8],u}function xt(a,e){return a.order-e.order}function At(a){const e=Ee.c(139),{job:s,statuses:l,friends:r}=a,[o,u]=te.useState(!1),[x,c]=te.useState(!1),[d,m]=te.useState(!1),[p,le]=te.useState(!1),[n,Pe]=te.useState(null),[g,ze]=te.useState("");let ae,re;e[0]===Symbol.for("react.memo_cache_sentinel")?(ae={title:"Vocatio",href:"/vocatio/pipelines"},re={title:"Jobs",href:"/vocatio/jobs"},e[0]=ae,e[1]=re):(ae=e[0],re=e[1]);const Ie=`${s.position} @ ${s.company}`,ke=`/vocatio/jobs/${s.id}`;let ie;e[2]!==Ie||e[3]!==ke?(ie=[ae,re,{title:Ie,href:ke}],e[2]=Ie,e[3]=ke,e[4]=ie):ie=e[4];const Le=ie;let oe;e[5]!==s.id?(oe=i=>{m(!0),Be.patch(`/vocatio/jobs/${s.id}/status`,{status_id:i},{preserveScroll:!0,onSuccess:()=>{u(!1)},onFinish:()=>{m(!1)}})},e[5]=s.id,e[6]=oe):oe=e[6];const se=oe;let ne;e[7]!==s.id||e[8]!==n||e[9]!==g?(ne=()=>{n&&(le(!0),Be.post("/vocatio/shares",{job_id:s.id,receiver_id:n,message:g},{preserveScroll:!0,onSuccess:()=>{c(!1),Pe(null),ze("")},onFinish:()=>{le(!1)}}))},e[7]=s.id,e[8]=n,e[9]=g,e[10]=ne):ne=e[10];const Ue=ne,Ae=`${s.position} @ ${s.company} - Vocatio`;let j;e[11]!==Ae?(j=t.jsx(Ye,{title:Ae}),e[11]=Ae,e[12]=j):j=e[12];let ce;e[13]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx(Te,{href:"/vocatio/jobs",children:t.jsx(f,{variant:"ghost",size:"icon",children:t.jsx(st,{className:"h-5 w-5"})})}),e[13]=ce):ce=e[13];let b;e[14]!==s.company?(b=s.company.substring(0,2).toUpperCase(),e[14]=s.company,e[15]=b):b=e[15];let _;e[16]!==b?(_=t.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-xl bg-slate-100 text-xl font-bold text-slate-600 dark:bg-slate-800",children:b}),e[16]=b,e[17]=_):_=e[17];let N;e[18]!==s.position?(N=t.jsx("h1",{className:"text-2xl font-bold",children:s.position}),e[18]=s.position,e[19]=N):N=e[19];let de;e[20]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsx(lt,{className:"h-4 w-4"}),e[20]=de):de=e[20];let v;e[21]!==s.company?(v=t.jsx("span",{children:s.company}),e[21]=s.company,e[22]=v):v=e[22];let S;e[23]!==s.pipeline?(S=s.pipeline&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:"â€¢"}),t.jsx(Te,{href:`/vocatio/pipelines/${s.pipeline.id}`,className:"hover:underline",children:s.pipeline.name})]}),e[23]=s.pipeline,e[24]=S):S=e[24];let y;e[25]!==v||e[26]!==S?(y=t.jsxs("div",{className:"mt-1 flex items-center gap-2 text-muted-foreground",children:[de,v,S]}),e[25]=v,e[26]=S,e[27]=y):y=e[27];let w;e[28]!==N||e[29]!==y?(w=t.jsxs("div",{className:"flex-1",children:[N,y]}),e[28]=N,e[29]=y,e[30]=w):w=e[30];let me;e[31]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsx(f,{variant:"outline",size:"icon",onClick:()=>c(!0),children:t.jsx(Re,{className:"h-4 w-4"})}),e[31]=me):me=e[31];const Je=`/vocatio/jobs/${s.id}/edit`;let fe;e[32]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsx(at,{className:"h-4 w-4"}),e[32]=fe):fe=e[32];let D;e[33]!==Je?(D=t.jsx(f,{variant:"outline",size:"icon",asChild:!0,children:t.jsx(Te,{href:Je,children:fe})}),e[33]=Je,e[34]=D):D=e[34];let ue;e[35]===Symbol.for("react.memo_cache_sentinel")?(ue=t.jsx(f,{variant:"outline",size:"icon",className:"text-destructive hover:text-destructive",children:t.jsx(rt,{className:"h-4 w-4"})}),e[35]=ue):ue=e[35];let C;e[36]!==D?(C=t.jsxs("div",{className:"flex gap-2",children:[me,D,ue]}),e[36]=D,e[37]=C):C=e[37];let $;e[38]!==_||e[39]!==w||e[40]!==C?($=t.jsxs("div",{className:"flex items-start gap-4",children:[ce,_,w,C]}),e[38]=_,e[39]=w,e[40]=C,e[41]=$):$=e[41];let xe;e[42]===Symbol.for("react.memo_cache_sentinel")?(xe=t.jsx("p",{className:"mb-3 text-sm text-muted-foreground",children:"Application Progress"}),e[42]=xe):xe=e[42];let I;e[43]!==s.status_id||e[44]!==l.data?(I=t.jsxs("div",{className:"rounded-xl border bg-card p-4",children:[xe,t.jsx(ut,{statuses:l.data,currentStatusId:s.status_id})]}),e[43]=s.status_id,e[44]=l.data,e[45]=I):I=e[45];let he;e[46]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsx("p",{className:"text-sm text-muted-foreground",children:"Interest Level"}),e[46]=he):he=e[46];let k;e[47]!==s.level_of_interest?(k=t.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[he,t.jsx("div",{className:"mt-2",children:t.jsx(ft,{level:s.level_of_interest})})]}),e[47]=s.level_of_interest,e[48]=k):k=e[48];let pe;e[49]===Symbol.for("react.memo_cache_sentinel")?(pe=t.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[t.jsx(it,{className:"h-4 w-4"}),"Location"]}),e[49]=pe):pe=e[49];const Fe=s.location??"-";let L;e[50]!==Fe?(L=t.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[pe,t.jsx("p",{className:"mt-2 font-medium",children:Fe})]}),e[50]=Fe,e[51]=L):L=e[51];let ge;e[52]===Symbol.for("react.memo_cache_sentinel")?(ge=t.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[t.jsx(ot,{className:"h-4 w-4"}),"Salary Range"]}),e[52]=ge):ge=e[52];let U;e[53]!==s.salary_max||e[54]!==s.salary_min?(U=dt(s.salary_min,s.salary_max),e[53]=s.salary_max,e[54]=s.salary_min,e[55]=U):U=e[55];let A;e[56]!==U?(A=t.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[ge,t.jsx("p",{className:"mt-2 font-medium",children:U})]}),e[56]=U,e[57]=A):A=e[57];let je;e[58]===Symbol.for("react.memo_cache_sentinel")?(je=t.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[t.jsx(nt,{className:"h-4 w-4"}),"Due Date"]}),e[58]=je):je=e[58];let J;e[59]!==s.due_date?(J=mt(s.due_date),e[59]=s.due_date,e[60]=J):J=e[60];let F;e[61]!==J?(F=t.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[je,t.jsx("p",{className:"mt-2 font-medium",children:J})]}),e[61]=J,e[62]=F):F=e[62];let M;e[63]!==k||e[64]!==L||e[65]!==A||e[66]!==F?(M=t.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[k,L,A,F]}),e[63]=k,e[64]=L,e[65]=A,e[66]=F,e[67]=M):M=e[67];let O;e[68]!==s.url?(O=s.url&&t.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[t.jsx("p",{className:"mb-2 text-sm text-muted-foreground",children:"Job Posting"}),t.jsxs("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-primary hover:underline",children:[t.jsx(tt,{className:"h-4 w-4"}),s.url]})]}),e[68]=s.url,e[69]=O):O=e[69];let T;e[70]!==s.notes?(T=s.notes&&t.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[t.jsx("p",{className:"mb-2 text-sm text-muted-foreground",children:"Notes"}),t.jsx("p",{className:"whitespace-pre-wrap",children:s.notes})]}),e[70]=s.notes,e[71]=T):T=e[71];let be;e[72]===Symbol.for("react.memo_cache_sentinel")?(be=t.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[t.jsx(We,{className:"h-4 w-4"}),"Added"]}),e[72]=be):be=e[72];let E;e[73]!==s.created_at?(E=Xe(s.created_at),e[73]=s.created_at,e[74]=E):E=e[74];let P;e[75]!==E?(P=t.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[be,t.jsx("p",{className:"mt-2",children:E})]}),e[75]=E,e[76]=P):P=e[76];let _e;e[77]===Symbol.for("react.memo_cache_sentinel")?(_e=t.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[t.jsx(We,{className:"h-4 w-4"}),"Last Updated"]}),e[77]=_e):_e=e[77];let z;e[78]!==s.updated_at?(z=Xe(s.updated_at),e[78]=s.updated_at,e[79]=z):z=e[79];let B;e[80]!==z?(B=t.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[_e,t.jsx("p",{className:"mt-2",children:z})]}),e[80]=z,e[81]=B):B=e[81];let R;e[82]!==P||e[83]!==B?(R=t.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[P,B]}),e[82]=P,e[83]=B,e[84]=R):R=e[84];let Ne;e[85]===Symbol.for("react.memo_cache_sentinel")?(Ne=t.jsx(He,{asChild:!0,children:t.jsx(f,{className:"flex-1",children:"Update Status"})}),e[85]=Ne):Ne=e[85];let ve;e[86]===Symbol.for("react.memo_cache_sentinel")?(ve=t.jsxs(Ve,{children:[t.jsx(qe,{children:"Update Application Status"}),t.jsx(Ke,{children:"Select a new status for this job application."})]}),e[86]=ve):ve=e[86];let H;if(e[87]!==se||e[88]!==d||e[89]!==s.status_id||e[90]!==l.data){let i;e[92]!==se||e[93]!==d||e[94]!==s.status_id?(i=h=>t.jsxs(f,{variant:h.id===s.status_id?"default":"outline",className:"justify-start",disabled:d||h.id===s.status_id,onClick:()=>se(h.id),children:[t.jsx("span",{className:"mr-2 h-3 w-3 rounded-full",style:{backgroundColor:h.color}}),h.name,h.id===s.status_id&&t.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:"Current"})]},h.id),e[92]=se,e[93]=d,e[94]=s.status_id,e[95]=i):i=e[95],H=[...l.data].sort(ht).map(i),e[87]=se,e[88]=d,e[89]=s.status_id,e[90]=l.data,e[91]=H}else H=e[91];let V;e[96]!==H?(V=t.jsxs(Ge,{children:[ve,t.jsx("div",{className:"grid gap-2 py-4",children:H})]}),e[96]=H,e[97]=V):V=e[97];let q;e[98]!==o||e[99]!==V?(q=t.jsxs(Qe,{open:o,onOpenChange:u,children:[Ne,V]}),e[98]=o,e[99]=V,e[100]=q):q=e[100];let Se;e[101]===Symbol.for("react.memo_cache_sentinel")?(Se=t.jsx(He,{asChild:!0,children:t.jsxs(f,{variant:"outline",children:[t.jsx(Re,{className:"mr-2 h-4 w-4"}),"Share Job"]})}),e[101]=Se):Se=e[101];let ye;e[102]===Symbol.for("react.memo_cache_sentinel")?(ye=t.jsxs(Ve,{children:[t.jsx(qe,{children:"Share Job"}),t.jsx(Ke,{children:"Share this job opportunity with another user."})]}),e[102]=ye):ye=e[102];let we;e[103]===Symbol.for("react.memo_cache_sentinel")?(we=t.jsx("label",{className:"text-sm font-medium",children:"Select Friend"}),e[103]=we):we=e[103];let K;e[104]!==r||e[105]!==n?(K=r.length===0?t.jsx("p",{className:"py-4 text-center text-sm text-muted-foreground",children:"No friends yet. Add friends to share jobs!"}):r.map(i=>t.jsxs("button",{type:"button",className:`w-full rounded-md px-3 py-2 text-left transition-colors ${n===i.id?"bg-primary text-primary-foreground":"hover:bg-muted"}`,onClick:()=>Pe(i.id),children:[t.jsx("div",{className:"font-medium",children:i.name}),t.jsx("div",{className:`text-xs ${n===i.id?"text-primary-foreground/70":"text-muted-foreground"}`,children:i.email})]},i.id)),e[104]=r,e[105]=n,e[106]=K):K=e[106];let G;e[107]!==K?(G=t.jsxs("div",{className:"space-y-2",children:[we,t.jsx("div",{className:"max-h-48 space-y-1 overflow-y-auto rounded-md border p-2",children:K})]}),e[107]=K,e[108]=G):G=e[108];let De;e[109]===Symbol.for("react.memo_cache_sentinel")?(De=t.jsx("label",{className:"text-sm font-medium",children:"Message (optional)"}),e[109]=De):De=e[109];let Ce;e[110]===Symbol.for("react.memo_cache_sentinel")?(Ce=i=>ze(i.target.value),e[110]=Ce):Ce=e[110];let Q;e[111]!==g?(Q=t.jsxs("div",{className:"space-y-2",children:[De,t.jsx("textarea",{className:"w-full rounded-md border bg-background px-3 py-2 text-sm",rows:3,placeholder:"Add a message...",value:g,onChange:Ce})]}),e[111]=g,e[112]=Q):Q=e[112];const Me=!n||p,Oe=p?"Sharing...":"Share Job";let W;e[113]!==Ue||e[114]!==Me||e[115]!==Oe?(W=t.jsx(f,{className:"w-full",disabled:Me,onClick:Ue,children:Oe}),e[113]=Ue,e[114]=Me,e[115]=Oe,e[116]=W):W=e[116];let X;e[117]!==G||e[118]!==Q||e[119]!==W?(X=t.jsxs(Ge,{children:[ye,t.jsxs("div",{className:"space-y-4 py-4",children:[G,Q,W]})]}),e[117]=G,e[118]=Q,e[119]=W,e[120]=X):X=e[120];let Y;e[121]!==x||e[122]!==X?(Y=t.jsxs(Qe,{open:x,onOpenChange:c,children:[Se,X]}),e[121]=x,e[122]=X,e[123]=Y):Y=e[123];let Z;e[124]!==q||e[125]!==Y?(Z=t.jsxs("div",{className:"flex gap-3",children:[q,Y]}),e[124]=q,e[125]=Y,e[126]=Z):Z=e[126];let ee;e[127]!==$||e[128]!==I||e[129]!==M||e[130]!==O||e[131]!==T||e[132]!==R||e[133]!==Z?(ee=t.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 overflow-x-auto p-4",children:[$,I,M,O,T,R,Z]}),e[127]=$,e[128]=I,e[129]=M,e[130]=O,e[131]=T,e[132]=R,e[133]=Z,e[134]=ee):ee=e[134];let $e;return e[135]!==Le||e[136]!==ee||e[137]!==j?($e=t.jsxs(Ze,{breadcrumbs:Le,children:[j,ee]}),e[135]=Le,e[136]=ee,e[137]=j,e[138]=$e):$e=e[138],$e}function ht(a,e){return a.order-e.order}export{At as default};
